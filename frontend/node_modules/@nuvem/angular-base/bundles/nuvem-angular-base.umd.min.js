!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common/http"),require("@angular/core"),require("rxjs/operators"),require("rxjs"),require("@angular/common"),require("@angular/router"),require("@angular/forms")):"function"==typeof define&&define.amd?define("@nuvem/angular-base",["exports","@angular/common/http","@angular/core","rxjs/operators","rxjs","@angular/common","@angular/router","@angular/forms"],e):e(((t=t||self).nuvem=t.nuvem||{},t.nuvem["angular-base"]={}),t.ng.common.http,t.ng.core,t.rxjs.operators,t.rxjs,t.ng.common,t.ng.router,t.ng.forms)}(this,(function(t,e,n,o,r,i,c,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function a(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function p(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c}function f(t,e){return function(n,o){e(n,o,t)}}var l=function(){function t(){this.subject=new r.Subject,this.loaderStatus=this.subject.asObservable()}return t.prototype.show=function(){this.subject.next({status:!0})},t.prototype.hide=function(){this.subject.next({status:!1})},t.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t=p([n.Injectable({providedIn:"root"})],t)}(),d=function(){function t(t){this.service=t}return t.prototype.intercept=function(t,n){var r=this;return this.isMutation(t.method)&&this.service.show(),n.handle(t).pipe(o.tap((function(t){t instanceof e.HttpResponse&&r.service.hide()}),(function(t){r.service.hide()})))},t.prototype.isMutation=function(t){return-1!==["DELETE","PATCH","POST","PUT"].indexOf(t)},t.ctorParameters=function(){return[{type:l}]},t.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new t(n.ɵɵinject(l))},token:t,providedIn:"root"}),t=p([n.Injectable({providedIn:"root"})],t)}(),h=function(){function t(){}return t.prototype.ngOnInit=function(){},p([n.Input()],t.prototype,"cssClass",void 0),t=p([n.Component({selector:"app-version-tag",template:'<span style="margin-left: 5px;">\n    Versão: {{version}}\n</span>'})],t)}(),v=function(){function t(){}return t=p([n.NgModule({imports:[i.CommonModule,c.RouterModule],declarations:[h],exports:[h]})],t)}(),m=function(){},y=function(){function t(t){this.authenticationService=t}return t.prototype.click=function(){this.authenticationService.logout()},t.ctorParameters=function(){return[{type:m}]},p([n.HostListener("click")],t.prototype,"click",null),t=p([n.Directive({selector:"[logout]"})],t)}(),g=function(){function t(t,e){this.el=t,this.authenticationService=e}return t.prototype.ngOnInit=function(){if(this.authenticationService.isAuthenticated()){var t=this.authenticationService.getUser();this.el.nativeElement.innerHTML+=this.user?t[this.user]:t.name}},t.ctorParameters=function(){return[{type:n.ElementRef},{type:m}]},p([n.Input()],t.prototype,"user",void 0),t=p([n.Directive({selector:"[user]"})],t)}(),b=function(){function t(t){this.authenticationService=t}return t.prototype.ngOnInit=function(){this.authenticationService.login()},t.ctorParameters=function(){return[{type:m}]},t=p([n.Component({selector:"app-login-success",template:""})],t)}(),I=function(){},S=function(){function t(t,e,n,o){this.templateRef=t,this.viewContainer=e,this.authorization=n,this.authentication=o}return Object.defineProperty(t.prototype,"hasRole",{set:function(t){var e=this;this.viewContainer.clear(),t?(this.loginNotifications&&this.loginNotifications.unsubscribe(),this.loginNotifications=this.authentication.getLoginNotifications().subscribe((function(){e.authorization.hasRole(t)&&(e.viewContainer.clear(),e.viewContainer.createEmbeddedView(e.templateRef))}))):this.viewContainer.createEmbeddedView(this.templateRef)},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.loginNotifications.unsubscribe()},t.ctorParameters=function(){return[{type:n.TemplateRef},{type:n.ViewContainerRef},{type:I},{type:m}]},p([n.Input()],t.prototype,"hasRole",null),t=p([n.Directive({selector:"[hasRole]"})],t)}(),C=function(){function t(t,e,n){this.hostComponent=t,this.auth=e,this.blockUiService=n,this.loadingContent="",this.waitingLogin=!1}return t.prototype.ngOnInit=function(){this.waitingLogin=!this.auth.isAuthenticated()},t.prototype.ngAfterContentInit=function(){this.auth.isAuthenticated()||this.blockUiService.show()},t.prototype.ngAfterViewInit=function(){var t=this;if(!this.auth.isAuthenticated())for(var e=1;e<this.hostComponent.nativeElement.children.length;e++)this.hostComponent.nativeElement.children[e].style.display="none";this.loginNotifications=this.auth.getLoginNotifications().subscribe((function(){for(var e=1;e<t.hostComponent.nativeElement.children.length;e++)t.hostComponent.nativeElement.children[e].style.display="inherit";t.waitingLogin=!1,t.blockUiService.hide()}))},t.prototype.ngOnDestroy=function(){this.loginNotifications.unsubscribe()},t.ctorParameters=function(){return[{type:n.ElementRef},{type:m},{type:l}]},p([n.Input()],t.prototype,"loadingContent",void 0),t=p([n.Component({selector:"[hide-while-login]",template:'<span *ngIf="waitingLogin">{{ loadingContent }}</span>\n<ng-content></ng-content>'})],t)}(),E=new n.InjectionToken("auth.config"),j=function(t){function e(e){var n=t.call(this)||this;return n.authenticationService=e,n}return a(e,t),e.prototype.hasRole=function(t){if(t){var e=this.authenticationService.getUser();return t instanceof Array?e.roles.some((function(e){return t.some((function(t){return e===t}))})):e.roles.some((function(e){return e===t}))}return!0},e.ctorParameters=function(){return[{type:m}]},e.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new e(n.ɵɵinject(m))},token:e,providedIn:"root"}),e=p([n.Injectable({providedIn:"root"})],e)}(I);function w(t){return null!==t.storage.getItem(t.userStorageIndex)}function k(t){window.location.href=t.loginUrl}var N=function(t){function i(e,n){var o=t.call(this)||this;return o.config=e,o.http=n,o.loginNotifications=new r.BehaviorSubject(o.getUser()),o}return a(i,t),i.prototype.isAuthenticated=function(){return w(this.config)},i.prototype.redirect=function(){k(this.config)},i.prototype.login=function(){var t=this;this.getUserDetails().subscribe((function(e){t.setUser(e),t.loginNotifications.next(e)}))},i.prototype.logout=function(){this.loginNotifications.next(null),this.config.storage.removeItem(this.config.userStorageIndex),window.location.href=this.config.logoutUrl},i.prototype.getUserDetails=function(){return this.http.get(this.config.baseUrl+this.config.detailsUrl)},i.prototype.setUser=function(t){this.config.storage.setItem(this.config.userStorageIndex,JSON.stringify(t))},i.prototype.getUser=function(){return JSON.parse(this.config.storage.getItem(this.config.userStorageIndex))},i.prototype.getLoginNotifications=function(){return this.loginNotifications.pipe(o.filter((function(t){return null!=t})))},i.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Inject,args:[E]}]},{type:e.HttpClient}]},i.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new i(n.ɵɵinject(E),n.ɵɵinject(e.HttpClient))},token:i,providedIn:"root"}),i=p([n.Injectable({providedIn:"root"}),f(0,n.Inject(E))],i)}(m),T=function(){function t(t){this.authenticationService=t}return t.prototype.shouldHandle=function(t){return t instanceof e.HttpErrorResponse&&401==t.status},t.prototype.handle=function(t){this.authenticationService.redirect()},t.ctorParameters=function(){return[{type:m}]},t.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new t(n.ɵɵinject(m))},token:t,providedIn:"root"}),t=p([n.Injectable({providedIn:"root"})],t)}(),R=function(){},P=function(){},A=function(){function t(t){this.token=t}return t.prototype.intercept=function(t,n){var r=this;return this.token.hasToken()&&(t=this.token.setTokenInHeader(t)),n.handle(t).pipe(o.tap((function(t){if(t instanceof e.HttpResponse){var n=r.token.extractTokenFromHeaders(t.headers);null!==n&&r.token.storeToken(n)}return t})))},t.ctorParameters=function(){return[{type:P}]},t.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new t(n.ɵɵinject(P))},token:t,providedIn:"root"}),t=p([n.Injectable({providedIn:"root"})],t)}(),O=function(t){function o(e){var n=t.call(this)||this;return n.config=e,n}var r;return a(o,t),r=o,o.prototype.extractTokenFromHeaders=function(t){return t.get(r.HEADER_STRING)},o.prototype.storeToken=function(t){this.config.storage.setItem(this.config.tokenStorageIndex,t.toString())},o.prototype.setTokenInHeader=function(t){var n;return t.clone({headers:new e.HttpHeaders((n={},n[r.HEADER_STRING]=this.config.storage.getItem(this.config.tokenStorageIndex),n))})},o.prototype.hasToken=function(){return null!==this.config.storage.getItem(this.config.tokenStorageIndex)},o.TOKEN_PREFIX="Bearer",o.HEADER_STRING="Authorization",o.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Inject,args:[E]}]}]},o.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new o(n.ɵɵinject(E))},token:o,providedIn:"root"}),o=r=p([n.Injectable({providedIn:"root"}),f(0,n.Inject(E))],o)}(P),x=function(){function t(){}var o;return o=t,t.forRoot=function(t){return{ngModule:o,providers:[{provide:E,useValue:t},t.tokenStorageIndex?[{provide:P,useClass:O},{provide:e.HTTP_INTERCEPTORS,useClass:A,multi:!0}]:[]]}},t=o=p([n.NgModule({imports:[i.CommonModule,c.RouterModule,e.HttpClientModule],declarations:[y,g,b,S,C],providers:[j,N,{provide:R,useClass:T,multi:!0},{provide:I,useClass:j},{provide:m,useClass:N}],exports:[y,g,b,S,C]})],t)}(),D=function(){function t(t){this.authenticationService=t}return t.prototype.canActivate=function(t,e){return!!this.authenticationService.isAuthenticated()||(this.authenticationService.redirect(),!1)},t.prototype.canActivateChild=function(t,e){return this.canActivate(t,e)},t.ctorParameters=function(){return[{type:m}]},t.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new t(n.ɵɵinject(m))},token:t,providedIn:"root"}),t=p([n.Injectable({providedIn:"root"})],t)}();var H,M=function(){function t(t){this.fontSize=1,this.renderer=t.createRenderer(null,null)}return t.prototype.enableHighContrast=function(){this.renderer.addClass(document.body,"contraste")},t.prototype.disableHighContrast=function(){this.renderer.removeClass(document.body,"contraste")},t.prototype.increaseFontSize=function(){this.fontSize+=.1,this.renderer.setStyle(document.querySelector("div.layout-wrapper"),"font-size",this.fontSize+"em")},t.prototype.decreaseFontSize=function(){this.fontSize-=.1,this.renderer.setStyle(document.querySelector("div.layout-wrapper"),"font-size",this.fontSize+"em")},t.prototype.addAccessibilityIcons=function(){var t=document.querySelector(".ui-button-icon-left, ui-button-icon-righ");t&&this.renderer.setStyle(t,"aria-hidden",!0)},t.prototype.addAccessibilityMessages=function(t){var e="polite";"custom"!==t.severity.toLowerCase()&&"success"!==t.severity.toLowerCase()&&(e="assertive"),this.renderer.setStyle(document.querySelector("p-toast, p-growl"),"aria-live",e)},t.ctorParameters=function(){return[{type:n.RendererFactory2}]},t.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new t(n.ɵɵinject(n.RendererFactory2))},token:t,providedIn:"root"}),t=p([n.Injectable({providedIn:"root"})],t)}(),F=function(){function t(){}return t=p([n.NgModule({imports:[i.CommonModule],providers:[M],exports:[]})],t)}(),L=function(){function t(){this.DATE_SEPARATOR="/"}return t.prototype.dateMask=function(t){if(t.target.value){var e=t.target.value.replace(/[^0-9]/g,"").substr(0,8);e.length>=3&&(e=e.replace(/^(\d{2})(\d{1,2})/,"$1"+this.DATE_SEPARATOR+"$2")),e.length>=6&&(e=e.replace(/^(\S{5})(\d{1,4})/,"$1"+this.DATE_SEPARATOR+"$2")),t.target.value=e}},t.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t=p([n.Injectable({providedIn:"root"})],t)}(),U=function(){function t(){}return t=p([n.NgModule({imports:[],declarations:[],providers:[L],exports:[]})],t)}(),_=function(t){function e(e){var n=t.call(this)||this;return n.providers=e,n}return a(e,t),e.prototype.handleError=function(e){try{this.providers.forEach((function(t){t.shouldHandle(e)&&t.handle(e)}))}catch(t){}t.prototype.handleError.call(this,e)},e.ctorParameters=function(){return[{type:Array,decorators:[{type:n.Inject,args:[R]}]}]},e.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new e(n.ɵɵinject(R))},token:e,providedIn:"root"}),e=p([n.Injectable({providedIn:"root"}),f(0,n.Inject(R))],e)}(n.ErrorHandler),q=function(){},z=function(t,e,n,o,r,i,c){this.type=t,this.title=e,this.detail=n,this.status=o,this.instance=r,this.stacktrace=i,this.cause=c},V=function(){function t(t,e){this.notification=t,this.ngZone=e}return t.prototype.shouldHandle=function(t){return t instanceof e.HttpErrorResponse&&"application/problem+json"===t.headers.get("Content-Type")&&t.error},t.prototype.handle=function(t){var e=this;this.ngZone.run((function(){e.notification.addErrorProblem(new z(t.error.type,t.error.title,t.error.detail,t.error.status,t.error.instance))}))},t.ctorParameters=function(){return[{type:q},{type:n.NgZone}]},t.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new t(n.ɵɵinject(q),n.ɵɵinject(n.NgZone))},token:t,providedIn:"root"}),t=p([n.Injectable({providedIn:"root"})],t)}(),G=function(t,e,n){this.code=t,this.title=e,this.detail=n},Z=function(){function t(t,e){this.notification=t,this.ngZone=e}return t.prototype.shouldHandle=function(t){return t instanceof e.HttpErrorResponse&&!("application/problem+json"===t.headers.get("Content-Type")&&t.error)},t.prototype.handle=function(t){var e=this,n=this.getErrorByCode(t);this.ngZone.run((function(){e.notification.addErrorMessage(n.detail,n.title)}))},t.prototype.getErrorByCode=function(t){var e=$[t.status];return void 0===e?new G(t.status,t.statusText,t.message):e},t.ctorParameters=function(){return[{type:q},{type:n.NgZone}]},t.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new t(n.ɵɵinject(q),n.ɵɵinject(n.NgZone))},token:t,providedIn:"root"}),t=p([n.Injectable({providedIn:"root"})],t)}(),$={401:new G(401,"Não Autenticado","Essa requisição requer um usuário autenticado."),403:new G(403,"Proibido","Essa requisição requer uma permissão no servidor da aplicação que o usuário não possui."),404:new G(404,"Não encontrado","Essa requisição não pode ser encontrada."),500:new G(500,"Erro desconhecido","O servidor encontrou uma condição inesperada."),502:new G(502,"Bad Gateway","O servidor recebeu uma resposta inválida de um serviço que utilizou para cumprir a requisição"),503:new G(503,"Serviço Indisponível","O servidor não pode atender a requisição nesse momento. Esta é uma condição temporária, tente novamente mais tarde"),504:new G(504,"Gateway Timeout","O servidor não conseguiu receber uma resposta a tempo esperado por um serviço que utilizou para cumprir a requisição")},B=function(){function t(){}return t=p([n.NgModule({declarations:[],imports:[i.CommonModule],providers:[{provide:R,useClass:Z,multi:!0},{provide:R,useClass:V,multi:!0},{provide:n.ErrorHandler,useClass:_}]})],t)}(),J=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.addErrorMessage=function(t,e){console.error(e+" "+t)},e.prototype.addErrorProblem=function(t){console.error(t.title+" "+t.detail)},e.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=p([n.Injectable({providedIn:"root"})],e)}(q),K=function(){function t(t){var e=this;this.genericErrorService=t,this.errors=new r.ReplaySubject,null===localStorage.getItem("errorStack")&&localStorage.setItem("errorStack",JSON.stringify([])),this.getErrorsSubjects().forEach((function(t){e.errors.next(t)}))}return t.prototype.create=function(t){var e=this.createNamedError(t),n=this.getErrorsSubjects();n.length>=15&&n.shift(),n.push(e),localStorage.setItem("errorStack",JSON.stringify(n)),this.errors.next(e)},t.prototype.getErrorsSubjects=function(){return JSON.parse(localStorage.getItem("errorStack"))},t.prototype.createNamedError=function(t){var e,n,o=new Date,r=this.getErrorId(t);if("application/problem+json"===t.headers.get("Content-Type"))e="X-Correlation-ID: "+r+"\n                           createdAt: "+o+"\n                           status: "+t.status+"\n                           url: "+t.url+"\n                           body: "+t.error.detail+"\n                           stacktrace: "+t.error.stacktrace+"\n                           cause: "+t.error.cause,n=t.error.title;else{var i=this.genericErrorService.getErrorByCode(t);e="X-Correlation-ID: "+r+"\n                           createdAt: "+o+"\n                           status: "+t.status+"\n                           url: "+t.url+"\n                           body: "+i.detail,n=i.title}return{message:n,createdAt:o,correlationId:r,fullMessage:e}},t.prototype.getErrorId=function(t){var e;return t.headers.keys().every((function(t){return"X-CORRELATION-ID"!==t.toUpperCase()||(e=t,!1)})),e?t.headers.get(e):null},t.ctorParameters=function(){return[{type:Z}]},t.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new t(n.ɵɵinject(Z))},token:t,providedIn:"root"}),t=p([n.Injectable({providedIn:"root"})],t)}(),W=function(){function t(t){this.errorStackService=t}return t.prototype.shouldHandle=function(t){return t instanceof e.HttpErrorResponse},t.prototype.handle=function(t){this.errorStackService.create(t)},t.ctorParameters=function(){return[{type:K}]},t.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new t(n.ɵɵinject(K))},token:t,providedIn:"root"}),t=p([n.Injectable({providedIn:"root"})],t)}(),X=function(){function t(){}return t.prototype.transform=function(t){return null===t?"-":(t=t.replace(/[^0-9A-Za-z]/g,"")).substring(0,5)+"-"+t.substring(5,8)},t=p([n.Pipe({name:"cep"})],t)}(),Y=function(){function t(){}return t.prototype.transform=function(t){return null===t||11!==t.length?t:(t=t.replace(/[^0-9A-Za-z]/g,"")).substring(0,3)+"."+t.substring(3,6)+"."+t.substring(6,9)+"-"+t.substring(9,11)},t=p([n.Pipe({name:"cpf"})],t)}(),Q=function(){function t(){}return t.prototype.transform=function(t){return null===t||14!==t.length?t:(t=t.replace(/[^0-9A-Za-z]/g,"")).substring(0,2)+"."+t.substring(2,5)+"."+t.substring(5,8)+"/"+t.substring(8,12)+"-"+t.substring(12,14)},t=p([n.Pipe({name:"cnpj"})],t)}(),tt=function(){function t(){}return t.prototype.transform=function(t,e,n){return t.replace(e,n)},t=p([n.Pipe({name:"regex"})],t)}(),et=function(){function t(){}return t.prototype.transform=function(t,e,n){return void 0===e&&(e=25),void 0===n&&(n="..."),t.length>e?""+t.substr(0,e)+n:t},t=p([n.Pipe({name:"limit"})],t)}(),nt=function(){function t(){}return t=p([n.NgModule({imports:[],declarations:[X,Y,Q,tt,et],exports:[X,Y,Q,tt,et]})],t)}(),ot=function(){function t(){}return t.prototype.copy=function(t){var e="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[e?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;n.style.top=o+"px",n.setAttribute("readonly",""),n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)},t.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t=p([n.Injectable({providedIn:"root"})],t)}(),rt=function(){function t(t){this.service=t,this.onClipboard=new n.EventEmitter}return t.prototype.copy=function(){try{this.service.copy(this.clipboard),this.onClipboard.emit(!0)}catch(t){throw this.onClipboard.emit(!1),t}},t.ctorParameters=function(){return[{type:ot}]},p([n.Input()],t.prototype,"clipboard",void 0),p([n.Output()],t.prototype,"onClipboard",void 0),p([n.HostListener("click")],t.prototype,"copy",null),t=p([n.Directive({selector:"[clipboard]"})],t)}(),it=function(){function t(){}return t=p([n.NgModule({imports:[],declarations:[rt],providers:[ot],exports:[rt]})],t)}(),ct=function(){function t(t,e){this.elementRef=t,this.model=e}return t.prototype.ngOnInit=function(){var t=this;this.subscriber=this.model.control.valueChanges.subscribe((function(){var e=t.elementRef.nativeElement.value.replace(new RegExp(t.appUnmask),"");t.model.control.setValue(e,{emitEvent:!1,emitModelToViewChange:!1,emitViewToModelChange:!1})}))},t.prototype.ngOnDestroy=function(){this.subscriber.unsubscribe()},t.ctorParameters=function(){return[{type:n.ElementRef},{type:s.NgControl}]},p([n.Input()],t.prototype,"appUnmask",void 0),t=p([n.Directive({selector:"[unmask]"})],t)}(),st=function(){function t(t){this.el=t,this.regex=new RegExp(/[^0-9]$/g),this.specialKeys=["Backspace","Delete","Tab","End","Home","ArrowLeft","ArrowRight"]}return t.prototype.onKeyDown=function(t){var e=this.el.nativeElement.value.concat(t.key);-1===this.specialKeys.indexOf(t.key)&&e&&String(e).match(this.regex)&&t.preventDefault()},t.ctorParameters=function(){return[{type:n.ElementRef}]},p([n.HostListener("keydown",["$event"])],t.prototype,"onKeyDown",null),t=p([n.Directive({selector:"input[onlyNumbers]"})],t)}(),ut=[st,ct],at=function(){function t(){}return t=p([n.NgModule({declarations:ut,exports:ut})],t)}();(H=t.FormNotificationType||(t.FormNotificationType={}))[H.CLEAN=0]="CLEAN",H[H.FIELD=1]="FIELD";var pt=function(t,e){this.form=t,this.type=e},ft=function(e){function n(n,o,r){var i=e.call(this,n,t.FormNotificationType.FIELD)||this;return i.field=o,i.message=r,i}return a(n,e),n}(pt),lt=function(){function e(){this.formNotifications=new r.Subject}return e.prototype.notifications=function(e,n){return this.formNotifications.pipe(o.filter((function(o){return(!e||o.form===e)&&(o.type===t.FormNotificationType.CLEAN||o instanceof ft&&o.field===n)})))},e.prototype.notify=function(t){this.formNotifications.next(t)},e.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=p([n.Injectable({providedIn:"root"})],e)}(),dt=function(){function t(t){this.formNotificationService=t}return t.prototype.shouldHandle=function(t){return t instanceof e.HttpErrorResponse&&"application/problem+json"===t.headers.get("Content-Type")&&t.error&&(t.error.violations||t.error.fieldErrors)},t.prototype.handle=function(t){t.error.violations&&this.violation(t.url,t.error.violations),t.error.fieldErrors&&this.violation(t.url,t.error.fieldErrors)},t.prototype.violation=function(t,e){var n=this;e.forEach((function(e){return n.formNotificationService.notify(new ft(t,e.field,e.message))}))},t.ctorParameters=function(){return[{type:lt}]},t.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new t(n.ɵɵinject(lt))},token:t,providedIn:"root"}),t=p([n.Injectable({providedIn:"root"})],t)}(),ht=function(e){function n(n){return e.call(this,n,t.FormNotificationType.CLEAN)||this}return a(n,e),n}(pt),vt=function(){function t(t){this.formNotificationService=t}return t.prototype.intercept=function(t,e){return this.formNotificationService.notify(new ht(t.url)),e.handle(t)},t.ctorParameters=function(){return[{type:lt}]},t.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new t(n.ɵɵinject(lt))},token:t,providedIn:"root"}),t=p([n.Injectable({providedIn:"root"})],t)}(),mt=function(){function t(t){this.formNotificationService=t}return t.prototype.ngOnInit=function(){var t=this;this.subscription=this.formNotificationService.notifications(this.form,this.name).subscribe((function(e){t.message=e instanceof ft?e.message:null}))},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.ctorParameters=function(){return[{type:lt}]},p([n.Input()],t.prototype,"name",void 0),p([n.Input()],t.prototype,"form",void 0),t=p([n.Directive({selector:"form-notification-component-superclass"})],t)}(),yt=function(){function t(){}return t=p([n.NgModule({imports:[i.CommonModule],declarations:[mt],exports:[mt],providers:[lt,{provide:R,useClass:dt,multi:!0},{provide:e.HTTP_INTERCEPTORS,useClass:vt,multi:!0}]})],t)}(),gt=function(t){function e(e,n,o,r,i,c,s,u){var a=t.call(this,e,n,o,r,i,c,s)||this;return a.violations=u,a}return a(e,t),e}(z),bt=function(){function t(){this.subscriptions=new r.Subscription,this.destructionSubject=new r.Subject,this.destruction$=this.destructionSubject.asObservable()}return t.prototype.subscribeTo=function(t,e,n,o){this.subscriptions.add(t.subscribe(this.bind(e),this.bind(n),this.bind(o)))},t.prototype.unsubscribe=function(){this.subscriptions.unsubscribe(),this.subscriptions=new r.Subscription},t.prototype.bind=function(t){return null==t?void 0:t.bind(this)},t.prototype.ngOnDestroy=function(){this.unsubscribe(),this.destructionSubject.next(),this.destructionSubject.complete()},t}(),It=function(t){function e(e){var o=t.call(this)||this;return o.inputChanges$=new r.Subject,o.changeDetectorRef=e.get(n.ChangeDetectorRef),o}return a(e,t),e.prototype.ngOnChanges=function(t){this.inputChanges$.next(new Set(Object.getOwnPropertyNames(t)))},e.prototype.getInput$=function(t){var e=this;return this.inputChanges$.pipe(o.filter((function(e){return e.has(t)})),o.startWith(void 0),o.map((function(){return e[t]})))},e.prototype.bindToInstance=function(t,e){var n=this;this.subscribeTo(e,(function(e){n[t]=e,n.changeDetectorRef.markForCheck()}))},e}(bt);function St(){}var Ct=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.emitOutgoingValue=St,e.onTouched=St,e.isDisabled=!1,e}return a(e,t),e.prototype.writeValue=function(t){this.handleIncomingValue(t),this.changeDetectorRef.markForCheck()},e.prototype.registerOnChange=function(t){this.emitOutgoingValue=t},e.prototype.registerOnTouched=function(t){this.onTouched=t},e.prototype.setDisabledState=function(t){this.isDisabled=t,this.changeDetectorRef.markForCheck()},e}(It),Et=function(t){function e(e){var n=t.call(this,e)||this;return n.formControl=new s.FormControl,n.subscribeTo(n.formControl.valueChanges,(function(t){n.emitOutgoingValue(n.innerToOuter(t))})),n.formControl.markAsTouched=function(){n.onTouched()},n}return a(e,t),e.prototype.handleIncomingValue=function(t){this.formControl.setValue(this.outerToInner(t),{emitEvent:!1})},e.prototype.setDisabledState=function(e){e?this.formControl.disable({emitEvent:!1}):this.formControl.enable({emitEvent:!1}),t.prototype.setDisabledState.call(this,this.isDisabled)},e.prototype.outerToInner=function(t){return t},e.prototype.innerToOuter=function(t){return t},e}(Ct);t.AUTH_CONFIG=E,t.AccessbilityModule=F,t.AccessbilityService=M,t.ApplicationProblemType=z,t.AuthGuard=D,t.Authentication=m,t.AuthenticationService=N,t.Authorization=I,t.AuthorizationService=j,t.BlockUiInterceptor=d,t.BlockUiService=l,t.CepPipe=X,t.CleanFormNotification=ht,t.ClipboardDirective=rt,t.ClipboardModule=it,t.ClipboardService=ot,t.CnpjPipe=Q,t.CommonMaskModule=U,t.CommonMaskService=L,t.CpfPipe=Y,t.DirectivesModule=at,t.ErrorModule=B,t.ErrorProvider=R,t.ErrorService=_,t.ErrorStackProviderService=W,t.ErrorStackService=K,t.FieldFormNotification=ft,t.FormControlSuperclass=Ct,t.FormNotification=pt,t.FormNotificationBaseModule=yt,t.FormNotificationComponentSuperclass=mt,t.FormNotificationErrorProvider=dt,t.FormNotificationProvider=gt,t.FormNotificationService=lt,t.GENERIC_ERRORS=$,t.HasRoleDirective=S,t.HideWhileLoginComponent=C,t.HttpApplicationProblemErrorService=V,t.HttpGenericErrorService=Z,t.HttpGenericErrorType=G,t.JWTAuthInterceptor=A,t.JWTTokenService=O,t.LimitPipe=et,t.LoginSuccessComponent=b,t.LogoutDirective=y,t.NotAuthenticatedErrorProvider=T,t.NotificationProvider=q,t.NotificationService=J,t.OnlyNumbersDirective=st,t.PipeModule=nt,t.RegexPipe=tt,t.SecurityModule=x,t.Token=P,t.UnmaskDirective=ct,t.UserDirective=g,t.VersionTagComponent=h,t.VersionTagModule=v,t.WrappedFormControlSuperclass=Et,t.bootstrapSecurity=function(t,e,n,o){void 0===n&&(n=w),void 0===o&&(o=k),window.location.href.includes(t.loginSuccessRoute)||n(t)?e():o(t)},t.isAuthenticated=w,t.noop=St,t.provideValueAccessor=function(t){return{provide:s.NG_VALUE_ACCESSOR,useExisting:t,multi:!0}},t.redirect=k,t.ɵa=vt,t.ɵb=It,t.ɵc=bt,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=nuvem-angular-base.umd.min.js.map