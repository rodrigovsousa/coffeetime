import { __decorate } from "tslib";
import { FormNotificationService } from '../services/form-notification.service';
import { Directive, Input } from "@angular/core";
import { FieldFormNotification } from '../types/field-form-notification.type';
import * as ɵngcc0 from '@angular/core';
let FormNotificationComponentSuperclass = class FormNotificationComponentSuperclass {
    /**
     * Metodo construtor responsavel por carregar o serviço de validação
     * @param formNotificationService
     */
    constructor(formNotificationService) {
        this.formNotificationService = formNotificationService;
    }
    /**
     * Metodo Inicial para subscrição no endpoint responsável por validar o formulário
     */
    ngOnInit() {
        this.subscription = this.formNotificationService
            .notifications(this.form, this.name)
            .subscribe((notification) => {
            if (notification instanceof FieldFormNotification) {
                this.message = notification.message;
            }
            else {
                this.message = null;
            }
        });
    }
    /**
     * Metodo responsavel por realizar a saida das subscrições do endpont de validação
     */
    ngOnDestroy() {
        this.subscription.unsubscribe();
    }
};
FormNotificationComponentSuperclass.ɵfac = function FormNotificationComponentSuperclass_Factory(t) { return new (t || FormNotificationComponentSuperclass)(ɵngcc0.ɵɵdirectiveInject(FormNotificationService)); };
FormNotificationComponentSuperclass.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: FormNotificationComponentSuperclass, selectors: [["form-notification-component-superclass"]], inputs: { name: "name", form: "form" } });
FormNotificationComponentSuperclass.ctorParameters = () => [
    { type: FormNotificationService }
];
__decorate([
    Input()
], FormNotificationComponentSuperclass.prototype, "name", void 0);
__decorate([
    Input()
], FormNotificationComponentSuperclass.prototype, "form", void 0);
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FormNotificationComponentSuperclass, [{
        type: Directive,
        args: [{
                selector: 'form-notification-component-superclass'
            }]
    }], function () { return [{ type: FormNotificationService }]; }, { name: [{
            type: Input
        }], form: [{
            type: Input
        }] }); })();
export { FormNotificationComponentSuperclass };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS1ub3RpZmljYXRpb24tc3VwZXJjbGFzcy5jb21wb25lbnQuanMiLCJzb3VyY2VzIjpbIm5nOi9AbnV2ZW0vYW5ndWxhci1iYXNlL2xpYi9mb3JtLW5vdGlmaWNhdGlvbi9jb21wb25lbnRzL2Zvcm0tbm90aWZpY2F0aW9uLXN1cGVyY2xhc3MuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQUNoRixPQUFPLEVBQUUsU0FBUyxFQUFxQixLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHcEUsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sdUNBQXVDLENBQUM7O0FBSzlFLElBQWEsbUNBQW1DLEdBQWhELE1BQWEsbUNBQW1DO0FBQUcsSUFVL0M7QUFDSjtBQUNBO0FBQ0EsT0FBTztBQUNQLElBQUksWUFBc0IsdUJBQWdEO0FBQUksUUFBcEQsNEJBQXVCLEdBQXZCLHVCQUF1QixDQUF5QjtBQUFDLElBQUUsQ0FBQztBQUM5RSxJQUNJO0FBQ0o7QUFDQSxPQUFPO0FBQ1AsSUFBSSxRQUFRO0FBQUssUUFDVCxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyx1QkFBdUI7QUFDeEQsYUFBYSxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDO0FBQ2hELGFBQWEsU0FBUyxDQUFDLENBQUMsWUFBOEIsRUFBRSxFQUFFO0FBQzFELFlBQWdCLElBQUksWUFBWSxZQUFZLHFCQUFxQixFQUFFO0FBQ25FLGdCQUFvQixJQUFJLENBQUMsT0FBTyxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUM7QUFDeEQsYUFBaUI7QUFBQyxpQkFBSztBQUN2QixnQkFBb0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7QUFDeEMsYUFBaUI7QUFDakIsUUFBWSxDQUFDLENBQUMsQ0FBQztBQUNmLElBQUksQ0FBQztBQUNMLElBQ0k7QUFDSjtBQUNBLE9BQU87QUFDUCxJQUFJLFdBQVc7QUFBSyxRQUNaLElBQUksQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFLENBQUM7QUFDeEMsSUFBSSxDQUFDO0FBQ0wsQ0FDQzs7b05BQUE7QUFDRDtBQUE2RCxZQXpCVix1QkFBdUI7QUFBRztBQVZoRTtBQUFhLElBQXJCLEtBQUssRUFBRTtBQUFDLGlFQUFhO0FBRWI7QUFBYSxJQUFyQixLQUFLLEVBQUU7QUFBQyxpRUFBYTtBQU5iLG1DQUFtQyxvQkFIL0MsU0FBUyxDQUFDLFVBQ1AsUUFBUSxFQUFFOztNQUF3QyxNQUNyRCxDQUFDO0FBQ1csbUNBQW1DLENBc0MvQzs7Ozs7O29CQUNEO0FBQUMsU0F2Q1ksbUNBQW1DO0FBQUkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGb3JtTm90aWZpY2F0aW9uU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2Zvcm0tbm90aWZpY2F0aW9uLnNlcnZpY2UnO1xuaW1wb3J0IHsgRGlyZWN0aXZlLCBPbkluaXQsIE9uRGVzdHJveSwgSW5wdXQgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IEZvcm1Ob3RpZmljYXRpb24gfSBmcm9tICcuLi90eXBlcy9mb3JtLW5vdGlmaWNhdGlvbi50eXBlJztcbmltcG9ydCB7IEZpZWxkRm9ybU5vdGlmaWNhdGlvbiB9IGZyb20gJy4uL3R5cGVzL2ZpZWxkLWZvcm0tbm90aWZpY2F0aW9uLnR5cGUnO1xuXG5ARGlyZWN0aXZlKHtcbiAgICBzZWxlY3RvcjogJ2Zvcm0tbm90aWZpY2F0aW9uLWNvbXBvbmVudC1zdXBlcmNsYXNzJ1xufSlcbmV4cG9ydCBjbGFzcyBGb3JtTm90aWZpY2F0aW9uQ29tcG9uZW50U3VwZXJjbGFzcyBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcblxuICAgIHByaXZhdGUgc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XG5cbiAgICBASW5wdXQoKSBuYW1lOiBTdHJpbmc7XG5cbiAgICBASW5wdXQoKSBmb3JtOiBTdHJpbmc7XG5cbiAgICBtZXNzYWdlOiBTdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBNZXRvZG8gY29uc3RydXRvciByZXNwb25zYXZlbCBwb3IgY2FycmVnYXIgbyBzZXJ2acOnbyBkZSB2YWxpZGHDp8Ojb1xuICAgICAqIEBwYXJhbSBmb3JtTm90aWZpY2F0aW9uU2VydmljZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBmb3JtTm90aWZpY2F0aW9uU2VydmljZTogRm9ybU5vdGlmaWNhdGlvblNlcnZpY2UpIHt9XG5cbiAgICAvKipcbiAgICAgKiBNZXRvZG8gSW5pY2lhbCBwYXJhIHN1YnNjcmnDp8OjbyBubyBlbmRwb2ludCByZXNwb25zw6F2ZWwgcG9yIHZhbGlkYXIgbyBmb3JtdWzDoXJpb1xuICAgICAqL1xuICAgIG5nT25Jbml0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbiA9IHRoaXMuZm9ybU5vdGlmaWNhdGlvblNlcnZpY2VcbiAgICAgICAgICAgIC5ub3RpZmljYXRpb25zKHRoaXMuZm9ybSwgdGhpcy5uYW1lKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgobm90aWZpY2F0aW9uOiBGb3JtTm90aWZpY2F0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG5vdGlmaWNhdGlvbiBpbnN0YW5jZW9mIEZpZWxkRm9ybU5vdGlmaWNhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBub3RpZmljYXRpb24ubWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ldG9kbyByZXNwb25zYXZlbCBwb3IgcmVhbGl6YXIgYSBzYWlkYSBkYXMgc3Vic2NyacOnw7VlcyBkbyBlbmRwb250IGRlIHZhbGlkYcOnw6NvXG4gICAgICovXG4gICAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuXG59XG4iXX0=