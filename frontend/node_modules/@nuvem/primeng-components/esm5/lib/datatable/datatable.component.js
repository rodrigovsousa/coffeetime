import { __assign, __decorate } from "tslib";
import { Component, ViewChild, Input, Output, ContentChildren, QueryList, ChangeDetectorRef, AfterViewInit, AfterContentInit, OnInit, EventEmitter, ViewEncapsulation, ElementRef, } from '@angular/core';
import { Table as DataTable } from 'primeng/table';
import { DataProviderFactory, DataProviderType } from './dataprovider-factory';
import { DatatableButtonComponent } from './datatable-button.component';
import { DatatableClickEvent } from './datatable-click-event';
import { Authorization, User } from '@nuvem/angular-base';
import { Column } from './p-column.directive';
/**
 * Class DatatableComponent
 * @class
 */
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@nuvem/angular-base';
import * as ɵngcc2 from 'primeng';
import * as ɵngcc3 from '@angular/common';
import * as ɵngcc4 from 'primeng/table';
import * as ɵngcc5 from 'primeng/api';
import * as ɵngcc6 from './show-column/show-column.component';
import * as ɵngcc7 from './filter-column/filter-column.component';
import * as ɵngcc8 from '@angular/forms';
import * as ɵngcc9 from './datatable-button.component';
import * as ɵngcc10 from '../extra-button/datatable-splitbutton.component';

function DatatableComponent_basis_show_column_6_Template(rf, ctx) { if (rf & 1) {
    var _r839 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "basis-show-column", 11);
    ɵngcc0.ɵɵlistener("updateVisibleColumns", function DatatableComponent_basis_show_column_6_Template_basis_show_column_updateVisibleColumns_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r839); var ctx_r838 = ɵngcc0.ɵɵnextContext(); return ctx_r838.updateVisibleColumns($event); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r829 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("columns", ctx_r829.columns);
} }
function DatatableComponent_ng_template_10_div_0_div_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 17);
    ɵngcc0.ɵɵelementStart(1, "span", 18);
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r844 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(ctx_r844.horizontalButtonsHeader);
} }
function DatatableComponent_ng_template_10_div_0_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0);
} }
var _c0 = function (a2, a3) { return { "horizontal-buttons": true, "ui-sm-12": true, "ui-g-8": a2, "ui-g-12": a3 }; };
function DatatableComponent_ng_template_10_div_0_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 14);
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_10_div_0_div_1_Template, 3, 1, "div", 15);
    ɵngcc0.ɵɵelementStart(2, "div", 2);
    ɵngcc0.ɵɵtemplate(3, DatatableComponent_ng_template_10_div_0_ng_container_3_Template, 1, 0, "ng-container", 16);
    ɵngcc0.ɵɵprojection(4);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r841 = ɵngcc0.ɵɵnextContext(2);
    var _r836 = ɵngcc0.ɵɵreference(16);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r841.showHorizontalButtonsHeader);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction2(3, _c0, ctx_r841.showHorizontalButtonsHeader, !ctx_r841.showHorizontalButtonsHeader));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", _r836);
} }
function DatatableComponent_ng_template_10_th_2_p_sortIcon_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "p-sortIcon", 21);
} if (rf & 2) {
    var col_r846 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("field", col_r846.field);
} }
var _c1 = function (a0) { return { "display": a0 }; };
function DatatableComponent_ng_template_10_th_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "th", 19);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵtemplate(2, DatatableComponent_ng_template_10_th_2_p_sortIcon_2_Template, 1, 1, "p-sortIcon", 20);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var col_r846 = ctx.$implicit;
    var ctx_r842 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵproperty("pSortableColumn", col_r846.sortable ? col_r846.field : null)("ngStyle", ɵngcc0.ɵɵpureFunction1(4, _c1, ctx_r842.visibleColumns[col_r846.field]));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", col_r846.header, " ");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", col_r846.sortable);
} }
function DatatableComponent_ng_template_10_tr_3_th_1_Template(rf, ctx) { if (rf & 1) {
    var _r852 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "th", 23);
    ɵngcc0.ɵɵelementStart(1, "basis-filter-column", 24);
    ɵngcc0.ɵɵlistener("outputEvent", function DatatableComponent_ng_template_10_tr_3_th_1_Template_basis_filter_column_outputEvent_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r852); var col_r850 = ctx.$implicit; var ctx_r851 = ɵngcc0.ɵɵnextContext(3); return ctx_r851.filterColumn(col_r850.field, $event); });
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var col_r850 = ctx.$implicit;
    var ctx_r849 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵproperty("ngStyle", ɵngcc0.ɵɵpureFunction1(8, _c1, ctx_r849.visibleColumns[col_r850.field]));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("listaOriginal", ctx_r849.filterSelectOptions)("lista", ctx_r849.filterSelectOptions)("field", col_r850.field)("updateFiltro", ctx_r849.updateFilterColumn)("filterType", col_r850.filterType)("tableType", ctx_r849.type)("customFilterOptions", ctx_r849.customFilterOptions);
} }
function DatatableComponent_ng_template_10_tr_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "tr");
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_10_tr_3_th_1_Template, 2, 10, "th", 22);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var columns_r840 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngForOf", columns_r840);
} }
function DatatableComponent_ng_template_10_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵtemplate(0, DatatableComponent_ng_template_10_div_0_Template, 5, 6, "div", 12);
    ɵngcc0.ɵɵelementStart(1, "tr");
    ɵngcc0.ɵɵtemplate(2, DatatableComponent_ng_template_10_th_2_Template, 3, 6, "th", 13);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(3, DatatableComponent_ng_template_10_tr_3_Template, 2, 1, "tr", 8);
} if (rf & 2) {
    var columns_r840 = ctx.$implicit;
    var ctx_r831 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r831.verticalButtons);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngForOf", columns_r840);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r831.filterOnColumn);
} }
function DatatableComponent_ng_template_11_td_1_ng_container_1_span_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "span", 29);
} if (rf & 2) {
    var col_r859 = ɵngcc0.ɵɵnextContext(2).$implicit;
    var rowData_r854 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("innerHTML", rowData_r854[col_r859.field], ɵngcc0.ɵɵsanitizeHtml);
} }
var _c2 = function (a0, a1) { return { rowData: a0, col: a1 }; };
function DatatableComponent_ng_template_11_td_1_ng_container_1_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0, 30);
} if (rf & 2) {
    var col_r859 = ɵngcc0.ɵɵnextContext(2).$implicit;
    var rowData_r854 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", col_r859.bodyTemplate)("ngTemplateOutletContext", ɵngcc0.ɵɵpureFunction2(2, _c2, rowData_r854, col_r859));
} }
function DatatableComponent_ng_template_11_td_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_11_td_1_ng_container_1_span_1_Template, 1, 1, "span", 27);
    ɵngcc0.ɵɵtemplate(2, DatatableComponent_ng_template_11_td_1_ng_container_1_ng_container_2_Template, 1, 5, "ng-container", 28);
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var col_r859 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !col_r859.bodyTemplate);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", col_r859.bodyTemplate);
} }
function DatatableComponent_ng_template_11_td_1_ng_container_2_ng_template_2_span_0_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "span", 29);
} if (rf & 2) {
    var col_r859 = ɵngcc0.ɵɵnextContext(3).$implicit;
    var rowData_r854 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("innerHTML", rowData_r854[col_r859.field], ɵngcc0.ɵɵsanitizeHtml);
} }
var _c3 = function () { return { "width": "100%" }; };
function DatatableComponent_ng_template_11_td_1_ng_container_2_ng_template_2_div_1_Template(rf, ctx) { if (rf & 1) {
    var _r880 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 34);
    ɵngcc0.ɵɵelementStart(1, "div", 35);
    ɵngcc0.ɵɵelementStart(2, "div", 34);
    ɵngcc0.ɵɵelementStart(3, "span", 36);
    ɵngcc0.ɵɵelementStart(4, "input", 37);
    ɵngcc0.ɵɵlistener("ngModelChange", function DatatableComponent_ng_template_11_td_1_ng_container_2_ng_template_2_div_1_Template_input_ngModelChange_4_listener($event) { ɵngcc0.ɵɵrestoreView(_r880); var col_r859 = ɵngcc0.ɵɵnextContext(3).$implicit; var rowData_r854 = ɵngcc0.ɵɵnextContext().$implicit; return (rowData_r854[col_r859.field] = $event); });
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(5, "label");
    ɵngcc0.ɵɵtext(6);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var col_r859 = ɵngcc0.ɵɵnextContext(3).$implicit;
    var rowData_r854 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵadvance(4);
    ɵngcc0.ɵɵstyleMap(ɵngcc0.ɵɵpureFunction0(4, _c3));
    ɵngcc0.ɵɵproperty("ngModel", rowData_r854[col_r859.field]);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(col_r859.header);
} }
var _c4 = function (a0, a1) { return { "rowData": a0, "col": a1 }; };
function DatatableComponent_ng_template_11_td_1_ng_container_2_ng_template_2_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0, 30);
} if (rf & 2) {
    var col_r859 = ɵngcc0.ɵɵnextContext(3).$implicit;
    var rowData_r854 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", col_r859.inputTemplate)("ngTemplateOutletContext", ɵngcc0.ɵɵpureFunction2(2, _c4, rowData_r854, col_r859));
} }
function DatatableComponent_ng_template_11_td_1_ng_container_2_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵtemplate(0, DatatableComponent_ng_template_11_td_1_ng_container_2_ng_template_2_span_0_Template, 1, 1, "span", 27);
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_11_td_1_ng_container_2_ng_template_2_div_1_Template, 7, 5, "div", 33);
    ɵngcc0.ɵɵtemplate(2, DatatableComponent_ng_template_11_td_1_ng_container_2_ng_template_2_ng_container_2_Template, 1, 5, "ng-container", 28);
} if (rf & 2) {
    var col_r859 = ɵngcc0.ɵɵnextContext(2).$implicit;
    ɵngcc0.ɵɵproperty("ngIf", !col_r859.outputTemplate && col_r859.editable == false);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !col_r859.inputTemplate && col_r859.editable != false);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", col_r859.inputTemplate);
} }
function DatatableComponent_ng_template_11_td_1_ng_container_2_ng_template_3_span_0_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "span", 29);
} if (rf & 2) {
    var col_r859 = ɵngcc0.ɵɵnextContext(3).$implicit;
    var rowData_r854 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("innerHTML", rowData_r854[col_r859.field], ɵngcc0.ɵɵsanitizeHtml);
} }
function DatatableComponent_ng_template_11_td_1_ng_container_2_ng_template_3_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0, 30);
} if (rf & 2) {
    var col_r859 = ɵngcc0.ɵɵnextContext(3).$implicit;
    var rowData_r854 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", col_r859.outputTemplate)("ngTemplateOutletContext", ɵngcc0.ɵɵpureFunction2(2, _c2, rowData_r854, col_r859));
} }
function DatatableComponent_ng_template_11_td_1_ng_container_2_ng_template_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵtemplate(0, DatatableComponent_ng_template_11_td_1_ng_container_2_ng_template_3_span_0_Template, 1, 1, "span", 27);
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_11_td_1_ng_container_2_ng_template_3_ng_container_1_Template, 1, 5, "ng-container", 28);
} if (rf & 2) {
    var col_r859 = ɵngcc0.ɵɵnextContext(2).$implicit;
    ɵngcc0.ɵɵproperty("ngIf", !col_r859.outputTemplate);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", col_r859.outputTemplate);
} }
function DatatableComponent_ng_template_11_td_1_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵelementStart(1, "p-cellEditor");
    ɵngcc0.ɵɵtemplate(2, DatatableComponent_ng_template_11_td_1_ng_container_2_ng_template_2_Template, 3, 3, "ng-template", 31);
    ɵngcc0.ɵɵtemplate(3, DatatableComponent_ng_template_11_td_1_ng_container_2_ng_template_3_Template, 2, 2, "ng-template", 32);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementContainerEnd();
} }
function DatatableComponent_ng_template_11_td_1_div_3_button_1_Template(rf, ctx) { if (rf & 1) {
    var _r898 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 42);
    ɵngcc0.ɵɵlistener("click", function DatatableComponent_ng_template_11_td_1_div_3_button_1_Template_button_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r898); var rowData_r854 = ɵngcc0.ɵɵnextContext(3).$implicit; var ctx_r897 = ɵngcc0.ɵɵnextContext(); return ctx_r897.onRowEditInitEvent($event, rowData_r854); });
    ɵngcc0.ɵɵtext(1, "Editar");
    ɵngcc0.ɵɵelementEnd();
} }
function DatatableComponent_ng_template_11_td_1_div_3_button_2_Template(rf, ctx) { if (rf & 1) {
    var _r901 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 43);
    ɵngcc0.ɵɵlistener("click", function DatatableComponent_ng_template_11_td_1_div_3_button_2_Template_button_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r901); var rowData_r854 = ɵngcc0.ɵɵnextContext(3).$implicit; var ctx_r900 = ɵngcc0.ɵɵnextContext(); return ctx_r900.onRowEditSaveEvent($event, rowData_r854); });
    ɵngcc0.ɵɵtext(1, "Salvar");
    ɵngcc0.ɵɵelementEnd();
} }
function DatatableComponent_ng_template_11_td_1_div_3_button_3_Template(rf, ctx) { if (rf & 1) {
    var _r904 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 44);
    ɵngcc0.ɵɵlistener("click", function DatatableComponent_ng_template_11_td_1_div_3_button_3_Template_button_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r904); var ctx_r905 = ɵngcc0.ɵɵnextContext(3); var rowData_r854 = ctx_r905.$implicit; var ri_r857 = ctx_r905.rowIndex; var ctx_r903 = ɵngcc0.ɵɵnextContext(); return ctx_r903.onRowEditCancelEvent($event, rowData_r854, ri_r857); });
    ɵngcc0.ɵɵtext(1, "Cancelar");
    ɵngcc0.ɵɵelementEnd();
} }
function DatatableComponent_ng_template_11_td_1_div_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 38);
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_11_td_1_div_3_button_1_Template, 2, 0, "button", 39);
    ɵngcc0.ɵɵtemplate(2, DatatableComponent_ng_template_11_td_1_div_3_button_2_Template, 2, 0, "button", 40);
    ɵngcc0.ɵɵtemplate(3, DatatableComponent_ng_template_11_td_1_div_3_button_3_Template, 2, 0, "button", 41);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var editing_r856 = ɵngcc0.ɵɵnextContext(2).editing;
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !editing_r856);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", editing_r856);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", editing_r856);
} }
function DatatableComponent_ng_template_11_td_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "td", 23);
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_11_td_1_ng_container_1_Template, 3, 2, "ng-container", 8);
    ɵngcc0.ɵɵtemplate(2, DatatableComponent_ng_template_11_td_1_ng_container_2_Template, 4, 0, "ng-container", 8);
    ɵngcc0.ɵɵtemplate(3, DatatableComponent_ng_template_11_td_1_div_3_Template, 4, 3, "div", 26);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var col_r859 = ctx.$implicit;
    var isLast_r860 = ctx.last;
    var ctx_r858 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵproperty("ngStyle", ɵngcc0.ɵɵpureFunction1(4, _c1, ctx_r858.visibleColumns[col_r859.field]));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r858.editMode);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r858.editMode);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", isLast_r860);
} }
var _c5 = function (a0) { return { "editing": a0 }; };
function DatatableComponent_ng_template_11_Template(rf, ctx) { if (rf & 1) {
    var _r908 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "tr", 25);
    ɵngcc0.ɵɵlistener("mouseover", function DatatableComponent_ng_template_11_Template_tr_mouseover_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r908); var ctx_r907 = ɵngcc0.ɵɵnextContext(); return ctx_r907.editarLinhaOver($event); })("mouseleave", function DatatableComponent_ng_template_11_Template_tr_mouseleave_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r908); var ctx_r909 = ɵngcc0.ɵɵnextContext(); return ctx_r909.editarLinhaOut($event); });
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_11_td_1_Template, 4, 6, "td", 22);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var rowData_r854 = ctx.$implicit;
    var columns_r855 = ctx.columns;
    var editing_r856 = ctx.editing;
    ɵngcc0.ɵɵproperty("pSelectableRow", rowData_r854)("pContextMenuRow", rowData_r854)("pEditableRow", rowData_r854)("ngClass", ɵngcc0.ɵɵpureFunction1(5, _c5, editing_r856));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngForOf", columns_r855);
} }
function DatatableComponent_12_ng_template_0_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵtext(0);
} if (rf & 2) {
    var ctx_r910 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ctx_r910.emptyMessage, " ");
} }
function DatatableComponent_12_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵtemplate(0, DatatableComponent_12_ng_template_0_Template, 1, 1, "ng-template");
} }
function DatatableComponent_p_footer_13_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "p-footer");
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r834 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ctx_r834.paginationFooterText(ctx_r834.footerMsg), " ");
} }
function DatatableComponent_div_14_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0);
} }
function DatatableComponent_div_14_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 45);
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_div_14_ng_container_1_Template, 1, 0, "ng-container", 16);
    ɵngcc0.ɵɵprojection(2, 1);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r835 = ɵngcc0.ɵɵnextContext();
    var _r836 = ɵngcc0.ɵɵreference(16);
    ɵngcc0.ɵɵstyleProp("position", ctx_r835.enableButtonsScroll ? "sticky" : "")("top", ctx_r835.enableButtonsScroll ? "15%" : "");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", _r836);
} }
function DatatableComponent_ng_template_15_basis_datatable_button_0_Template(rf, ctx) { if (rf & 1) {
    var _r917 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "basis-datatable-button", 50);
    ɵngcc0.ɵɵlistener("click", function DatatableComponent_ng_template_15_basis_datatable_button_0_Template_basis_datatable_button_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r917); var ctx_r916 = ɵngcc0.ɵɵnextContext(2); return ctx_r916.onClick("edit", $event); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r912 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵclassProp("horizontal-button", !ctx_r912.verticalButtons);
    ɵngcc0.ɵɵproperty("bTooltip", ctx_r912.selectedRow != null ? "Editar" : "Escolha um registro para editar.")("disabled", ctx_r912.selectedRow == null);
} }
function DatatableComponent_ng_template_15_basis_datatable_button_1_Template(rf, ctx) { if (rf & 1) {
    var _r919 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "basis-datatable-button", 51);
    ɵngcc0.ɵɵlistener("click", function DatatableComponent_ng_template_15_basis_datatable_button_1_Template_basis_datatable_button_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r919); var ctx_r918 = ɵngcc0.ɵɵnextContext(2); return ctx_r918.onClick("view", $event); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r913 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵclassProp("horizontal-button", !ctx_r913.verticalButtons);
    ɵngcc0.ɵɵproperty("bTooltip", ctx_r913.selectedRow != null ? "Visualizar" : "Escolha um registro para visualizar.")("disabled", ctx_r913.selectedRow == null);
} }
function DatatableComponent_ng_template_15_basis_datatable_button_2_Template(rf, ctx) { if (rf & 1) {
    var _r921 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "basis-datatable-button", 52);
    ɵngcc0.ɵɵlistener("click", function DatatableComponent_ng_template_15_basis_datatable_button_2_Template_basis_datatable_button_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r921); var ctx_r920 = ɵngcc0.ɵɵnextContext(2); return ctx_r920.onClick("delete", $event); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r914 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵclassProp("horizontal-button", !ctx_r914.verticalButtons);
    ɵngcc0.ɵɵproperty("bTooltip", ctx_r914.selectedRow != null ? "Excluir" : "Escolha um registro para excluir.")("disabled", ctx_r914.selectedRow == null);
} }
function DatatableComponent_ng_template_15_datatable_splitbutton_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "datatable-splitbutton", 53);
} if (rf & 2) {
    var ctx_r915 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵclassMap(ctx_r915.splitButton.class);
    ɵngcc0.ɵɵproperty("icon", ctx_r915.splitButton.icon)("items", ctx_r915.splitButton.itens)("label", ctx_r915.splitButton.label)("method", ctx_r915.splitButton.method);
} }
function DatatableComponent_ng_template_15_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵtemplate(0, DatatableComponent_ng_template_15_basis_datatable_button_0_Template, 1, 4, "basis-datatable-button", 46);
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_15_basis_datatable_button_1_Template, 1, 4, "basis-datatable-button", 47);
    ɵngcc0.ɵɵtemplate(2, DatatableComponent_ng_template_15_basis_datatable_button_2_Template, 1, 4, "basis-datatable-button", 48);
    ɵngcc0.ɵɵtemplate(3, DatatableComponent_ng_template_15_datatable_splitbutton_3_Template, 1, 6, "datatable-splitbutton", 49);
} if (rf & 2) {
    var ctx_r837 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r837.disableEdit && ctx_r837.checkRolesToButton("rulesToShowView") && ctx_r837.checkRolesToButton("rulesToHideView"));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r837.disableView && ctx_r837.checkRolesToButton("rulesToShowEdit") && ctx_r837.checkRolesToButton("rulesToHideEdit"));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r837.disableDelete && ctx_r837.checkRolesToButton("rulesToShowDelete") && ctx_r837.checkRolesToButton("rulesToHideDelete"));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r837.splitButton);
} }
var _c6 = [[["horizontalButtons"]], "*"];
var _c7 = function (a0, a1) { return { "ui-g-2": a0, "ui-g-5": a1 }; };
var _c8 = function (a0, a1, a2, a3) { return { "ui-g-11": a0, "ui-g-12": a1, "edicao-tabela": a2, "editing-row": a3 }; };
var _c9 = ["horizontalButtons", "*"];
var DatatableComponent = /** @class */ (function () {
    /**
     * constructor method
     * @constructor
     * @param {ChangeDetectorRef} changeDetectorRef
     * @param {DataProviderFactory} dataProviderFactory
     * @param {Authorization} authorizationService
     */
    function DatatableComponent(changeDetectorRef, dataProviderFactory, authorizationService) {
        this.changeDetectorRef = changeDetectorRef;
        this.dataProviderFactory = dataProviderFactory;
        this.authorizationService = authorizationService;
        /**
         * filterParams property
         * @type {any}
         */
        this.filterParams = {};
        /**
         * footerMsg property
         * @type {string}
         */
        this.footerMsg = '';
        /**
         * orderInSort property
         * @type {boolean}
         */
        this.orderInSort = false;
        /**
         * value property
         * @type {any}
         */
        this.value = [];
        /**
         * type property
         * @type DataProviderType
         */
        this.type = DataProviderType.Server;
        /**
         * rows property
         * @type {number}
         */
        this.rows = 5;
        /**
         * showPaginationFooter property
         * @type {boolean}
         */
        this.showPaginationFooter = false;
        /**
         * disableEdit property
         * @type {boolean}
         */
        this.disableEdit = false;
        /**
         * disableView property
         * @type {boolean}
         */
        this.disableView = false;
        /**
         * disableDelete property
         * @type {boolean}
         */
        this.disableDelete = false;
        /**
         * selectionMode property
         * @type {string}
         */
        this.selectionMode = 'single';
        /**
         * enableButtonsScroll property
         * @type {boolean}
         */
        this.enableButtonsScroll = false;
        /**
         * emptyMessage property
         * @type {string}
         */
        this.emptyMessage = 'Nenhum registro encontrado.';
        /**
         * verticalButtons property
         * @type {boolean}
         */
        this.verticalButtons = true;
        /**
         * enableScroll property
         * @type {boolean}
         */
        this.enableScroll = false;
        /**
         * disableLoadingBlockUI property
         * @type {boolean}
         */
        this.disableLoadingBlockUI = false;
        /**
         * filterOnColumn property
         */
        this.filterOnColumn = false;
        /**
         * filterSelectOptions property
         */
        this.filterSelectOptions = [];
        /**
         * updateFiltroHistorico property
         */
        this.updateFilterColumn = false;
        /**
         * customFilterOptions property
         */
        this.customFilterOptions = {};
        /**
         * buttonClick property
         * @type {EventEmitter<any>}
         */
        this.buttonClick = new EventEmitter();
        /**
         * startedLoading property
         * @type {EventEmitter<void>}
         */
        this.startedLoading = new EventEmitter();
        /**
         * finishedLoading property
         * @type {EventEmitter<HttpErrorResponse>}
         */
        this.finishedLoading = new EventEmitter();
        /**
         * onRowSelected property
         * @type {EventEmitter<any>}
         */
        this.onRowSelected = new EventEmitter();
        /**
         * showHorizontalButtonsHeader property
         * @type {boolean}
         */
        this.showHorizontalButtonsHeader = false;
        /**
         * blockContent
         * @type {boolean}
         */
        this.blockContent = false;
        /**
         * visibleColumns property
         * @type {Object}
         */
        this.visibleColumns = {};
        /**
         * showVisibleColumnsControl property
         * @type {boolean}
         */
        this.showVisibleColumnsControl = false;
        /**
         * dataKey property
         * Identificador único para cada registro da tabela
         * @type {string}
         */
        this.dataKey = 'id';
        /**
         * onRowEditEvent property
         * Evento disparado quando o usuário realiza ações de edição em uma linha da tabela
         * @type {EventEmitter<void>}
         */
        this.onRowEditEvent = new EventEmitter();
        this.clonedRowData = {};
        /**
         * errorMessage property
         * @type {string}
         */
        this.errorMessage = 'Ocorreu um erro ao carregar os dados da tabela. Tente novamente.';
        this.editingRow = false;
    }
    /**
     * ngOnInit method
     * @returns void
     */
    DatatableComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.dataProvider = this.dataProviderFactory.create(this.type, this);
        this.pDatatableComponent.rows = this.rows;
        this.subscribeToLoadingEvents();
        this.initRowsPerPageOptionsIfPresent();
        this.defineIfShouldShowHorizontalButtonsHeader();
        this.updateOnValueChange();
        this.finishedLoading.subscribe(function () {
            _this.updateOnValueChange();
        });
    };
    /**
     * subscribeFromValueChange method
     * @returns void
     */
    DatatableComponent.prototype.updateOnValueChange = function () {
        var _this = this;
        this.filterSelectOptions = [];
        if (this.value) {
            this.value.map(function (item) {
                _this.filterSelectOptions.push(item);
            });
        }
    };
    /**
     * subscribeToLoadingEvents method
     * @returns void
     */
    DatatableComponent.prototype.subscribeToLoadingEvents = function () {
        var _this = this;
        if (!this.disableLoadingBlockUI) {
            this.originalEmptyMessage = this.emptyMessage;
            this.startedLoading.subscribe(function () { return _this.onStartedLoading(); });
            this.finishedLoading.subscribe(function (error) { return _this.onFinishedLoading(error); });
        }
    };
    /**
     * onStartedLoading method
     * @returns void
     */
    DatatableComponent.prototype.onStartedLoading = function () {
        this.blockContent = true;
        this.emptyMessage = this.originalEmptyMessage;
    };
    /**
     * onFinishedLoading method
     * @param {HttpErrorResponse} error
     * @returns void
     */
    DatatableComponent.prototype.onFinishedLoading = function (error) {
        this.blockContent = false;
        if (error) {
            this.emptyMessage = this.errorMessage;
        }
    };
    /**
     * initRowsPerPageOptionsIfPresent method
     * @returns void
     */
    DatatableComponent.prototype.initRowsPerPageOptionsIfPresent = function () {
        if (this.rowsPerPageOptions) {
            this.pDatatableComponent.rowsPerPageOptions = this.rowsPerPageOptions;
        }
    };
    /**
     * defineIfShouldShowHorizontalButtonsHeader method
     * @returns void
     */
    DatatableComponent.prototype.defineIfShouldShowHorizontalButtonsHeader = function () {
        if (this.horizontalButtonsHeader) {
            this.showHorizontalButtonsHeader = true;
        }
    };
    /**
     * ngAfterViewInit method
     * @returns void
     */
    DatatableComponent.prototype.ngAfterViewInit = function () {
        this.setExtraParams();
        this.pDatatableComponent.columns = this.columns;
        this.pDatatableComponent.ngAfterContentInit();
        this.setAllColumnsVisible();
        this.changeDetectorRef.detectChanges();
    };
    /**
     * setExtraParams method
     * @returns void
     */
    DatatableComponent.prototype.setExtraParams = function () {
        for (var i in this.extraParams) {
            this.pDatatableComponent[i] = this.extraParams[i];
        }
    };
    /**
     * ngAfterContentInit method
     * @returns void
     */
    DatatableComponent.prototype.ngAfterContentInit = function () {
        var _this = this;
        this.extraButtons.forEach(function (button) {
            button.click.subscribe(function (event) {
                _this.onClick(button.name, event);
            });
        });
    };
    /**
     * onClick method
     * @param {string} button
     * @param {any} event
     * @return void
     */
    DatatableComponent.prototype.onClick = function (button, event) {
        this.buttonClick.emit(new DatatableClickEvent(button, this.selectedRow));
        event.stopPropagation();
        this.resetSelectedRow(button);
    };
    /**
     * onSelectChange method
     * @param {any} event
     * @returns void
     */
    DatatableComponent.prototype.onSelectChange = function (event) {
        this.onRowSelected.emit(this.selectedRow);
        if (Array.isArray(this.selectedRow) && this.selectedRow.length > 1) {
            this.updateMultipleButtonsStatus(true);
        }
        else {
            this.updateMultipleButtonsStatus(false);
        }
    };
    /**
     * updateMultipleButtonsStatus method
     * @param {boolean} hasMultipleSelection
     * @return void
     */
    DatatableComponent.prototype.updateMultipleButtonsStatus = function (hasMultipleSelection) {
        this.extraButtons.forEach(function (button) {
            if (hasMultipleSelection && !button.allowMultipleSelection) {
                button.disabled = true;
            }
            else {
                button.disabled = false;
            }
        });
    };
    /**
     * refresh method
     * @param query
     * @returns void
     */
    DatatableComponent.prototype.refresh = function (query) {
        this.dataProvider.load(query);
    };
    /**
     * resetSelectedRow method
     * @param button
     * @returns void
     */
    DatatableComponent.prototype.resetSelectedRow = function (button) {
        if (button === 'delete') {
            this.selectedRow = null;
        }
    };
    /**
     * reset method
     * @returns void
     */
    DatatableComponent.prototype.reset = function () {
        this.pDatatableComponent.first = 0;
        this.dataProvider.reset();
        this.refresh();
    };
    /**
     * paginationFooterText method
     * @param {string} msg
     * @returns string
     */
    DatatableComponent.prototype.paginationFooterText = function (msg) {
        var registros = this.totalRecords() === 1 ? 'registro' : 'registros';
        if (msg === '') {
            return "Exibindo: " + this.currentFirstIndex() + " a " + this.currentLastIndex() + " de " + this.totalRecords() + " " + registros;
        }
        msg = msg.replace('{totalRecords}', this.totalRecords().toString());
        msg = msg.replace('{currentFirstIndex}', this.currentFirstIndex().toString());
        msg = msg.replace('{currentLastIndex}', this.currentLastIndex().toString());
        return msg;
    };
    /**
     * currentFirstIndex method
     * @returns number
     */
    DatatableComponent.prototype.currentFirstIndex = function () {
        return this.pDatatableComponent.first + 1;
    };
    /**
     * currentLastIndex method
     * @returns number
     */
    DatatableComponent.prototype.currentLastIndex = function () {
        var currentLastIndex = this.pDatatableComponent.first + this.pDatatableComponent.rows;
        if (currentLastIndex > this.totalRecords()) {
            return this.totalRecords();
        }
        return currentLastIndex;
    };
    /**
     * totalRecords method
     * @returns number
     */
    DatatableComponent.prototype.totalRecords = function () {
        return this.pDatatableComponent.totalRecords;
    };
    /**
     * checkRolesToButton method
     * @param {string} button
     * @return boolean
     */
    DatatableComponent.prototype.checkRolesToButton = function (button) {
        if (this[button]) {
            if (button === 'rulesToHide' || button === 'rulesToShowEdit' || button === 'rulesToShowDelete') {
                this.checkUseButtons(button);
                return this.authorizationService.hasRole(this[button]);
            }
            return !this.authorizationService.hasRole(this[button]);
        }
        return true;
    };
    /**
     * checkUseButtons method
     * @param {string} button
     * @returns void
     */
    DatatableComponent.prototype.checkUseButtons = function (button) {
        if (this[button] && this[button.replace('Show', 'Hide')]) {
            throw new Error('Não é possível definir dois valores de roles para os botões padrões.');
        }
    };
    /**
     * filter method
     * @returns void
     */
    DatatableComponent.prototype.filter = function () {
        for (var prop in this.filterParams) {
            if (this.filterParams[prop] === '' || (this.filterParams[prop].length === 0)) {
                delete this.filterParams[prop];
            }
        }
        if (Object.getOwnPropertyNames(this.filterParams).length === 0) {
            this.reset();
        }
        else {
            this.refresh(this.filterParams);
        }
    };
    /**
     * Método para filtrar por colunas
     * @param column chave da coluna na tabela
     * @param filters valor do filtro
     */
    DatatableComponent.prototype.filterColumn = function (column, filters) {
        var values = [];
        if (filters instanceof Array) {
            values[column] = [];
            for (var item in filters) {
                var val = (filters[item] instanceof Object) ? filters[item].value : filters[item];
                values[column].push(val);
            }
        }
        else {
            values[column] = filters;
        }
        this.filterParams = __assign(__assign({}, this.filterParams), values);
        return this.filter();
    };
    /**
     * Inicia todas as colunas da tabela como visíveis
     */
    DatatableComponent.prototype.setAllColumnsVisible = function () {
        var _this = this;
        this.columns.forEach(function (col) {
            _this.visibleColumns[col.field] = 'table-cell';
        });
    };
    /**
     * Verifica se uma coluna deve estar visível
     * @param column string
     * @param visibleColumns Array
     */
    DatatableComponent.prototype.visibleColumnCheck = function (column, visibleColumns) {
        return visibleColumns.some(function (item) {
            return (item.field) ? item.field == column : true;
        });
    };
    /**
     * Atualzia os valores da variável 'visibleColuns' para mostrar ou não as colunas
     * @param columns array
     */
    DatatableComponent.prototype.updateVisibleColumns = function (columns) {
        for (var col in this.visibleColumns) {
            if (this.visibleColumnCheck(col, columns)) {
                this.visibleColumns[col] = 'table-cell';
            }
            else {
                this.visibleColumns[col] = 'none';
            }
        }
    };
    DatatableComponent.prototype.onRowEditInitEvent = function (event, rowData) {
        var _this = this;
        var tr = event.srcElement.closest('tr');
        setTimeout(function () {
            _this.editingRow = true;
            var top = tr.offsetTop;
            var height = tr.offsetHeight;
            var editButtons = tr.querySelector('.editar-campos');
            editButtons.style.top = (top + height - 75) + 'px';
            editButtons.style.height = '75px';
            editButtons.style.backgroundColor = '#d0d0d0';
            editButtons.style.opacity = 1;
            _this.clonedRowData[rowData.id] = __assign({}, rowData);
            _this.onRowEditEvent.emit({ event: "init", data: rowData });
        }, null, tr);
    };
    DatatableComponent.prototype.onRowEditSaveEvent = function (event, rowData) {
        this.onRowEditEvent.emit({ event: "save", data: rowData });
        this.resetEditingMode(event);
    };
    DatatableComponent.prototype.onRowEditCancelEvent = function (event, rowData, index) {
        this.value[index] = this.clonedRowData[rowData.id];
        delete this.clonedRowData[rowData[this.dataKey]];
        this.onRowEditEvent.emit({ event: "cancel", data: rowData });
        this.resetEditingMode(event);
    };
    DatatableComponent.prototype.resetEditingMode = function (event) {
        var editButtons = event.srcElement.closest('tr').querySelector('.editar-campos');
        editButtons.style.opacity = 0;
        editButtons.style.backgroundColor = '#0000006b';
        editButtons.style.display = 'none';
        this.editingRow = false;
    };
    DatatableComponent.prototype.editarLinhaOver = function (event) {
        if (!this.editingRow && this.editMode == 'row') {
            var top_1 = event.srcElement.closest('tr').offsetTop;
            var height = event.srcElement.closest('tr').offsetHeight;
            var editButtons = event.srcElement.closest('tr').querySelector('.editar-campos');
            editButtons.style.display = 'flex';
            editButtons.style.top = top_1 + 'px';
            editButtons.style.height = height + 'px';
            editButtons.style.backgroundColor = '#0000006b';
            editButtons.style.opacity = 1;
        }
    };
    DatatableComponent.prototype.editarLinhaOut = function (event) {
        if (!this.editingRow) {
            var editButtons = event.srcElement.closest('tr').querySelector('.editar-campos');
            editButtons.style.display = 'none';
            editButtons.style.opacity = 0;
        }
    };
    DatatableComponent.ctorParameters = function () { return [
        { type: ChangeDetectorRef },
        { type: DataProviderFactory },
        { type: Authorization }
    ]; };
    __decorate([
        Input()
    ], DatatableComponent.prototype, "splitButton", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "value", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "type", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "rows", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "rowsPerPageOptions", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "url", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "extraParams", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "paginationParameters", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "showPaginationFooter", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "disableEdit", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "disableView", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "disableDelete", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "selectionMode", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "enableButtonsScroll", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "emptyMessage", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "verticalButtons", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "enableScroll", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "scrollHeight", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "scrollWidth", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "rulesToHide", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "rulesToShowEdit", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "rulesToShowDelete", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "rulesToHideView", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "rulesToHideEdit", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "rulesToHideDelete", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "disableLoadingBlockUI", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "rowStyleClass", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "filterOnColumn", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "customFilterOptions", void 0);
    __decorate([
        Output()
    ], DatatableComponent.prototype, "buttonClick", void 0);
    __decorate([
        ViewChild(DataTable, { static: true })
    ], DatatableComponent.prototype, "pDatatableComponent", void 0);
    __decorate([
        ContentChildren(DatatableButtonComponent)
    ], DatatableComponent.prototype, "extraButtons", void 0);
    __decorate([
        ContentChildren(Column)
    ], DatatableComponent.prototype, "columns", void 0);
    __decorate([
        Output()
    ], DatatableComponent.prototype, "startedLoading", void 0);
    __decorate([
        Output()
    ], DatatableComponent.prototype, "finishedLoading", void 0);
    __decorate([
        Output()
    ], DatatableComponent.prototype, "onRowSelected", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "showVisibleColumnsControl", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "editMode", void 0);
    __decorate([
        Input()
    ], DatatableComponent.prototype, "dataKey", void 0);
    __decorate([
        Output()
    ], DatatableComponent.prototype, "onRowEditEvent", void 0);
DatatableComponent.ɵfac = function DatatableComponent_Factory(t) { return new (t || DatatableComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(DataProviderFactory), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.Authorization)); };
DatatableComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: DatatableComponent, selectors: [["basis-datatable"]], contentQueries: function DatatableComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        ɵngcc0.ɵɵcontentQuery(dirIndex, DatatableButtonComponent, false);
        ɵngcc0.ɵɵcontentQuery(dirIndex, Column, false);
    } if (rf & 2) {
        var _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.extraButtons = _t);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.columns = _t);
    } }, viewQuery: function DatatableComponent_Query(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵstaticViewQuery(DataTable, true);
    } if (rf & 2) {
        var _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.pDatatableComponent = _t.first);
    } }, inputs: { value: "value", type: "type", rows: "rows", showPaginationFooter: "showPaginationFooter", disableEdit: "disableEdit", disableView: "disableView", disableDelete: "disableDelete", selectionMode: "selectionMode", enableButtonsScroll: "enableButtonsScroll", emptyMessage: "emptyMessage", verticalButtons: "verticalButtons", enableScroll: "enableScroll", disableLoadingBlockUI: "disableLoadingBlockUI", filterOnColumn: "filterOnColumn", customFilterOptions: "customFilterOptions", showVisibleColumnsControl: "showVisibleColumnsControl", dataKey: "dataKey", splitButton: "splitButton", rowsPerPageOptions: "rowsPerPageOptions", url: "url", extraParams: "extraParams", paginationParameters: "paginationParameters", scrollHeight: "scrollHeight", scrollWidth: "scrollWidth", rulesToHide: "rulesToHide", rulesToShowEdit: "rulesToShowEdit", rulesToShowDelete: "rulesToShowDelete", rulesToHideView: "rulesToHideView", rulesToHideEdit: "rulesToHideEdit", rulesToHideDelete: "rulesToHideDelete", rowStyleClass: "rowStyleClass", editMode: "editMode" }, outputs: { buttonClick: "buttonClick", startedLoading: "startedLoading", finishedLoading: "finishedLoading", onRowSelected: "onRowSelected", onRowEditEvent: "onRowEditEvent" }, ngContentSelectors: _c9, decls: 17, vars: 26, consts: [[3, "blocked"], [1, "center-spinner"], [3, "ngClass"], [3, "columns", "updateVisibleColumns", 4, "ngIf"], [3, "value", "rows", "paginator", "selectionMode", "responsive", "scrollable", "scrollHeight", "selection", "editMode", "dataKey", "selectionChange", "onRowSelect", "onRowUnselect"], ["datatable", ""], ["pTemplate", "header"], ["pTemplate", "body"], [4, "ngIf"], ["class", "ui-g-1 ui-g-nopad", 3, "position", "top", 4, "ngIf"], ["defaultButtons", ""], [3, "columns", "updateVisibleColumns"], ["class", "ui-g", 4, "ngIf"], [3, "pSortableColumn", "ngStyle", 4, "ngFor", "ngForOf"], [1, "ui-g"], ["class", "ui-g-4 ui-sm-12", 4, "ngIf"], [4, "ngTemplateOutlet"], [1, "ui-g-4", "ui-sm-12"], [1, "horizontal-buttons-header"], [3, "pSortableColumn", "ngStyle"], [3, "field", 4, "ngIf"], [3, "field"], [3, "ngStyle", 4, "ngFor", "ngForOf"], [3, "ngStyle"], [3, "listaOriginal", "lista", "field", "updateFiltro", "filterType", "tableType", "customFilterOptions", "outputEvent"], [3, "pSelectableRow", "pContextMenuRow", "pEditableRow", "ngClass", "mouseover", "mouseleave"], ["class", "editar-campos", 4, "ngIf"], [3, "innerHTML", 4, "ngIf"], [3, "ngTemplateOutlet", "ngTemplateOutletContext", 4, "ngIf"], [3, "innerHTML"], [3, "ngTemplateOutlet", "ngTemplateOutletContext"], ["pTemplate", "input"], ["pTemplate", "output"], ["class", "ui-md-12", 4, "ngIf"], [1, "ui-md-12"], [1, "ui-g", "form-group"], [1, "md-inputfield"], ["pInputText", "", "type", "text", 3, "ngModel", "ngModelChange"], [1, "editar-campos"], ["pButton", "", "type", "button", "pInitEditableRow", "", 3, "click", 4, "ngIf"], ["pButton", "", "type", "button", "pSaveEditableRow", "", "class", "ui-button-success", "style", "margin-right: .5em", 3, "click", 4, "ngIf"], ["pButton", "", "type", "button", "pCancelEditableRow", "", "class", "ui-button-danger", 3, "click", 4, "ngIf"], ["pButton", "", "type", "button", "pInitEditableRow", "", 3, "click"], ["pButton", "", "type", "button", "pSaveEditableRow", "", 1, "ui-button-success", 2, "margin-right", ".5em", 3, "click"], ["pButton", "", "type", "button", "pCancelEditableRow", "", 1, "ui-button-danger", 3, "click"], [1, "ui-g-1", "ui-g-nopad"], ["class", "ui-button-success", "icon", "edit", 3, "bTooltip", "horizontal-button", "disabled", "click", 4, "ngIf"], ["icon", "remove-red-eye", 3, "bTooltip", "horizontal-button", "disabled", "click", 4, "ngIf"], ["class", "ui-button-danger", "icon", "delete", 3, "bTooltip", "horizontal-button", "disabled", "click", 4, "ngIf"], [3, "icon", "class", "items", "label", "method", 4, "ngIf"], ["icon", "edit", 1, "ui-button-success", 3, "bTooltip", "disabled", "click"], ["icon", "remove-red-eye", 3, "bTooltip", "disabled", "click"], ["icon", "delete", 1, "ui-button-danger", 3, "bTooltip", "disabled", "click"], [3, "icon", "items", "label", "method"]], template: function DatatableComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵprojectionDef(_c6);
        ɵngcc0.ɵɵelementStart(0, "p-blockUI", 0);
        ɵngcc0.ɵɵelementStart(1, "div", 1);
        ɵngcc0.ɵɵelement(2, "p-progressSpinner");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(3, "div", 2);
        ɵngcc0.ɵɵtext(4, "\u00A0");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(5, "div", 2);
        ɵngcc0.ɵɵtemplate(6, DatatableComponent_basis_show_column_6_Template, 1, 1, "basis-show-column", 3);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(7, "div", 2);
        ɵngcc0.ɵɵelementStart(8, "p-table", 4, 5);
        ɵngcc0.ɵɵlistener("selectionChange", function DatatableComponent_Template_p_table_selectionChange_8_listener($event) { return ctx.selectedRow = $event; })("onRowSelect", function DatatableComponent_Template_p_table_onRowSelect_8_listener($event) { return ctx.onSelectChange($event); })("onRowUnselect", function DatatableComponent_Template_p_table_onRowUnselect_8_listener($event) { return ctx.onSelectChange($event); });
        ɵngcc0.ɵɵtemplate(10, DatatableComponent_ng_template_10_Template, 4, 3, "ng-template", 6);
        ɵngcc0.ɵɵtemplate(11, DatatableComponent_ng_template_11_Template, 2, 7, "ng-template", 7);
        ɵngcc0.ɵɵtemplate(12, DatatableComponent_12_Template, 1, 0, undefined, 8);
        ɵngcc0.ɵɵtemplate(13, DatatableComponent_p_footer_13_Template, 2, 1, "p-footer", 8);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(14, DatatableComponent_div_14_Template, 3, 5, "div", 9);
        ɵngcc0.ɵɵtemplate(15, DatatableComponent_ng_template_15_Template, 4, 4, "ng-template", null, 10, ɵngcc0.ɵɵtemplateRefExtractor);
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("blocked", ctx.blockContent);
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction2(18, _c7, ctx.verticalButtons, !ctx.verticalButtons));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngClass", ctx.verticalButtons ? "ui-g-11" : "ui-g-12");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.showVisibleColumnsControl);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction4(21, _c8, ctx.verticalButtons, !ctx.verticalButtons, ctx.editMode == "row", ctx.editingRow));
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("value", ctx.value)("rows", ctx.rows)("paginator", true)("selectionMode", ctx.selectionMode)("responsive", true)("scrollable", ctx.enableScroll)("scrollHeight", ctx.scrollHeight)("selection", ctx.selectedRow)("editMode", ctx.editMode)("dataKey", ctx.dataKey);
        ɵngcc0.ɵɵadvance(4);
        ɵngcc0.ɵɵproperty("ngIf", ctx.emptyMessage);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.showPaginationFooter && ctx.totalRecords() > 0);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.verticalButtons);
    } }, directives: [ɵngcc2.BlockUI, ɵngcc2.ProgressSpinner, ɵngcc3.NgClass, ɵngcc3.NgIf, ɵngcc4.Table, ɵngcc5.PrimeTemplate, ɵngcc6.ShowColumn, ɵngcc3.NgForOf, ɵngcc3.NgTemplateOutlet, ɵngcc4.SortableColumn, ɵngcc3.NgStyle, ɵngcc4.SortIcon, ɵngcc7.FilterColumn, ɵngcc4.SelectableRow, ɵngcc4.ContextMenuRow, ɵngcc4.EditableRow, ɵngcc4.CellEditor, ɵngcc8.DefaultValueAccessor, ɵngcc2.InputText, ɵngcc8.NgControlStatus, ɵngcc8.NgModel, ɵngcc2.ButtonDirective, ɵngcc4.InitEditableRow, ɵngcc4.SaveEditableRow, ɵngcc4.CancelEditableRow, ɵngcc5.Footer, ɵngcc9.DatatableButtonComponent, ɵngcc10.DatatableSplitbuttonComponent], styles: ["body .ui-datatable .ui-datatable-data tr td{word-wrap:break-word}.horizontal-buttons{display:flex;flex-flow:row wrap;justify-content:flex-end}.horizontal-button{padding:0 3px}.horizontal-buttons-header{font-size:1.3em;word-wrap:break-word}.center-spinner{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;min-height:100vh}.text-right{text-align:right}basis-show-column .ui-multiselect-panel.ui-widget{width:100%;max-width:100%}.edicao-tabela,.edita-linha{position:relative}tr.editing td{padding-bottom:75px!important}.editar-campos{opacity:0;position:absolute;width:100%;background-color:#0000006b;left:0;margin-top:0;display:flex;align-items:center;justify-content:center;min-height:35px;transition:.3s ease-in-out;z-index:1}.editar-campos button{color:#fff;font-size:14px;padding:6px 30px 10px;border-radius:5px;height:28px;width:120px!important}.bt-cancelar,.bt-salvar{margin:0 10px}"], encapsulation: 2 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DatatableComponent, [{
        type: Component,
        args: [{
                selector: 'basis-datatable',
                template: "<p-blockUI [blocked]=\"blockContent\">\n    <div class=\"center-spinner\">\n        <p-progressSpinner></p-progressSpinner>\n    </div>\n</p-blockUI>\n<div [ngClass]=\"{'ui-g-2':verticalButtons, 'ui-g-5':!verticalButtons}\">&nbsp;</div>\n<div [ngClass]=\"verticalButtons ? 'ui-g-11' : 'ui-g-12'\">\n    <basis-show-column *ngIf=\"showVisibleColumnsControl\" [columns]=\"columns\" (updateVisibleColumns)=\"updateVisibleColumns($event)\"></basis-show-column>\n</div>\n<div [ngClass]=\"{\n        'ui-g-11' : verticalButtons,\n        'ui-g-12' : !verticalButtons,\n        'edicao-tabela' : editMode == 'row',\n        'editing-row': editingRow\n    }\">\n    <p-table\n        [value]=\"value\"\n        [rows]=\"rows\"\n        [paginator]=\"true\"\n        [selectionMode]=\"selectionMode\"\n        [responsive]=\"true\"\n        [scrollable]=\"enableScroll\"\n        [scrollHeight]=\"scrollHeight\"\n        [(selection)]=\"selectedRow\"\n        [editMode]=\"editMode\"\n        (onRowSelect)=\"onSelectChange($event)\"\n        (onRowUnselect)=\"onSelectChange($event)\"\n        #datatable\n        [dataKey]=\"dataKey\">\n        <ng-template pTemplate=\"header\" let-columns>\n            <div class=\"ui-g\" *ngIf=\"!verticalButtons\">\n                <div *ngIf=\"showHorizontalButtonsHeader\" class=\"ui-g-4 ui-sm-12\">\n                    <span class=\"horizontal-buttons-header\">{{ horizontalButtonsHeader }}</span>\n                </div>\n                <div [ngClass]=\"{\n                    'horizontal-buttons': true,\n                    'ui-sm-12': true,\n                    'ui-g-8': showHorizontalButtonsHeader,\n                    'ui-g-12': !showHorizontalButtonsHeader}\">\n                    <ng-container *ngTemplateOutlet=\"defaultButtons\"></ng-container>\n                    <ng-content select=\"horizontalButtons\"></ng-content>\n                </div>\n            </div>\n            <tr>\n                <th *ngFor=\"let col of columns\"\n                    [pSortableColumn]=\"col.sortable ? col.field : null\"\n                    [ngStyle]=\"{'display': visibleColumns[col.field]}\">\n                    {{col.header}}\n                    <p-sortIcon *ngIf=\"col.sortable\" [field]=\"col.field\"></p-sortIcon>\n                </th>\n            </tr>\n            <tr *ngIf=\"filterOnColumn\">\n                <th *ngFor=\"let col of columns\" [ngStyle]=\"{'display': visibleColumns[col.field]}\">\n                    <basis-filter-column\n                        [listaOriginal]=\"filterSelectOptions\"\n                        [lista]=\"filterSelectOptions\"\n                        [field]=\"col.field\"\n                        [updateFiltro]=\"updateFilterColumn\"\n                        (outputEvent)=\"filterColumn(col.field, $event)\"\n                        [filterType]=\"col.filterType\"\n                        [tableType]=\"type\"\n                        [customFilterOptions]=\"customFilterOptions\">\n                    </basis-filter-column>\n                </th>\n            </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-editing=\"editing\" let-ri=\"rowIndex\">\n            <tr [pSelectableRow]=\"rowData\"\n                [pContextMenuRow]=\"rowData\"\n                [pEditableRow]=\"rowData\"\n                [ngClass]=\"{'editing': editing}\"\n                (mouseover)=\"editarLinhaOver($event)\"\n                (mouseleave)=\"editarLinhaOut($event)\">\n                <td *ngFor=\"let col of columns; last as isLast\" [ngStyle]=\"{'display': visibleColumns[col.field]}\" >\n                    <ng-container *ngIf=\"!editMode\">\n                        <span *ngIf=\"!col.bodyTemplate\" [innerHTML]=\"rowData[col.field]\"></span>\n                        <ng-container\n                            *ngIf=\"col.bodyTemplate\"\n                            [ngTemplateOutlet]=\"col.bodyTemplate\"\n                            [ngTemplateOutletContext]=\"{ rowData: rowData, col: col }\">\n                        </ng-container>\n                    </ng-container>\n\n                    <ng-container *ngIf=\"editMode\">\n                        <p-cellEditor>\n                            <ng-template pTemplate=\"input\">\n                                <span *ngIf=\"!col.outputTemplate && col.editable == false\" [innerHTML]=\"rowData[col.field]\"></span>\n                                <div class=\"ui-md-12\" *ngIf=\"!col.inputTemplate && col.editable != false\">\n                                    <div class=\"ui-g form-group\">\n                                        <div class=\"ui-md-12\">\n                                            <span class=\"md-inputfield\">\n                                                <input pInputText type=\"text\" [(ngModel)]=\"rowData[col.field]\" [style]=\"{'width':'100%'}\">\n                                                <label>{{ col.header }}</label>\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                                <ng-container\n                                    *ngIf=\"col.inputTemplate\"\n                                    [ngTemplateOutlet]=\"col.inputTemplate\"\n                                    [ngTemplateOutletContext]=\"{ 'rowData': rowData, 'col': col }\">\n                                </ng-container>\n                            </ng-template>\n                            <ng-template pTemplate=\"output\">\n                                <span *ngIf=\"!col.outputTemplate\" [innerHTML]=\"rowData[col.field]\"></span>\n                                <ng-container\n                                    *ngIf=\"col.outputTemplate\"\n                                    [ngTemplateOutlet]=\"col.outputTemplate\"\n                                    [ngTemplateOutletContext]=\"{ rowData: rowData, col: col }\">\n                                </ng-container>\n                            </ng-template>\n                        </p-cellEditor>\n                    </ng-container>\n                    <div *ngIf=\"isLast\" class=\"editar-campos\">\n                        <button *ngIf=\"!editing\" pButton type=\"button\" pInitEditableRow (click)=\"onRowEditInitEvent($event, rowData)\">Editar</button>\n                        <button *ngIf=\"editing\" pButton type=\"button\" pSaveEditableRow class=\"ui-button-success\" style=\"margin-right: .5em\" (click)=\"onRowEditSaveEvent($event, rowData)\">Salvar</button>\n                        <button *ngIf=\"editing\" pButton type=\"button\" pCancelEditableRow class=\"ui-button-danger\" (click)=\"onRowEditCancelEvent($event, rowData, ri)\">Cancelar</button>\n                    </div>\n                </td>\n            </tr>\n        </ng-template>\n        <ng-template *ngIf=\"emptyMessage\">\n            {{ emptyMessage }}\n        </ng-template>\n        <p-footer *ngIf=\"showPaginationFooter && totalRecords() > 0\">\n            {{ paginationFooterText(footerMsg) }}\n        </p-footer>\n\n    </p-table>\n</div>\n<div *ngIf=\"verticalButtons\"\n    class=\"ui-g-1 ui-g-nopad\"\n    [style.position]=\"enableButtonsScroll ? 'sticky' : ''\"\n    [style.top]=\"enableButtonsScroll ? '15%' : ''\">\n        <ng-container *ngTemplateOutlet=\"defaultButtons\"></ng-container>\n        <ng-content></ng-content>\n</div>\n\n<ng-template #defaultButtons>\n    <basis-datatable-button [bTooltip]=\"selectedRow != null ? 'Editar' : 'Escolha um registro para editar.' \"\n        [class.horizontal-button]=\"!verticalButtons\" class=\"ui-button-success\" icon=\"edit\" (click)=\"onClick('edit', $event)\"\n        *ngIf=\"!disableEdit && checkRolesToButton('rulesToShowView') && checkRolesToButton('rulesToHideView')\" [disabled]=\"selectedRow == null\">\n    </basis-datatable-button>\n\n    <basis-datatable-button [bTooltip]=\"selectedRow != null ? 'Visualizar' : 'Escolha um registro para visualizar.'\"\n        [class.horizontal-button]=\"!verticalButtons\" icon=\"remove-red-eye\" (click)=\"onClick('view', $event)\"\n        *ngIf=\"!disableView && checkRolesToButton('rulesToShowEdit') && checkRolesToButton('rulesToHideEdit')\" [disabled]=\"selectedRow == null\">\n    </basis-datatable-button>\n\n    <basis-datatable-button [bTooltip]=\"selectedRow != null ? 'Excluir' : 'Escolha um registro para excluir.'\"\n        [class.horizontal-button]=\"!verticalButtons\" class=\"ui-button-danger\" icon=\"delete\" (click)=\"onClick('delete', $event)\"\n       *ngIf=\"!disableDelete && checkRolesToButton('rulesToShowDelete') && checkRolesToButton('rulesToHideDelete')\" [disabled]=\"selectedRow == null\">\n    </basis-datatable-button>\n\n    <datatable-splitbutton\n        [icon]=\"splitButton.icon\"\n        [class]=\"splitButton.class\"\n        [items]=\"splitButton.itens\"\n        [label]=\"splitButton.label\"\n        [method]=\"splitButton.method\"\n        *ngIf=\"splitButton\">\n    </datatable-splitbutton>\n</ng-template>\n",
                encapsulation: ViewEncapsulation.None,
                styles: ["body .ui-datatable .ui-datatable-data tr td{word-wrap:break-word}.horizontal-buttons{display:flex;flex-flow:row wrap;justify-content:flex-end}.horizontal-button{padding:0 3px}.horizontal-buttons-header{font-size:1.3em;word-wrap:break-word}.center-spinner{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;min-height:100vh}.text-right{text-align:right}basis-show-column .ui-multiselect-panel.ui-widget{width:100%;max-width:100%}.edicao-tabela,.edita-linha{position:relative}tr.editing td{padding-bottom:75px!important}.editar-campos{opacity:0;position:absolute;width:100%;background-color:#0000006b;left:0;margin-top:0;display:flex;align-items:center;justify-content:center;min-height:35px;transition:.3s ease-in-out;z-index:1}.editar-campos button{color:#fff;font-size:14px;padding:6px 30px 10px;border-radius:5px;height:28px;width:120px!important}.bt-cancelar,.bt-salvar{margin:0 10px}"]
            }]
    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }, { type: DataProviderFactory }, { type: ɵngcc1.Authorization }]; }, { value: [{
            type: Input
        }], type: [{
            type: Input
        }], rows: [{
            type: Input
        }], showPaginationFooter: [{
            type: Input
        }], disableEdit: [{
            type: Input
        }], disableView: [{
            type: Input
        }], disableDelete: [{
            type: Input
        }], selectionMode: [{
            type: Input
        }], enableButtonsScroll: [{
            type: Input
        }], emptyMessage: [{
            type: Input
        }], verticalButtons: [{
            type: Input
        }], enableScroll: [{
            type: Input
        }], disableLoadingBlockUI: [{
            type: Input
        }], filterOnColumn: [{
            type: Input
        }], customFilterOptions: [{
            type: Input
        }], buttonClick: [{
            type: Output
        }], startedLoading: [{
            type: Output
        }], finishedLoading: [{
            type: Output
        }], onRowSelected: [{
            type: Output
        }], showVisibleColumnsControl: [{
            type: Input
        }], dataKey: [{
            type: Input
        }], onRowEditEvent: [{
            type: Output
        }], splitButton: [{
            type: Input
        }], rowsPerPageOptions: [{
            type: Input
        }], url: [{
            type: Input
        }], extraParams: [{
            type: Input
        }], paginationParameters: [{
            type: Input
        }], scrollHeight: [{
            type: Input
        }], scrollWidth: [{
            type: Input
        }], rulesToHide: [{
            type: Input
        }], rulesToShowEdit: [{
            type: Input
        }], rulesToShowDelete: [{
            type: Input
        }], rulesToHideView: [{
            type: Input
        }], rulesToHideEdit: [{
            type: Input
        }], rulesToHideDelete: [{
            type: Input
        }], rowStyleClass: [{
            type: Input
        }], pDatatableComponent: [{
            type: ViewChild,
            args: [DataTable, { static: true }]
        }], extraButtons: [{
            type: ContentChildren,
            args: [DatatableButtonComponent]
        }], columns: [{
            type: ContentChildren,
            args: [Column]
        }], editMode: [{
            type: Input
        }] }); })();
    return DatatableComponent;
}());
export { DatatableComponent };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YXRhYmxlLmNvbXBvbmVudC5qcyIsInNvdXJjZXMiOlsibmc6L0BudXZlbS9wcmltZW5nLWNvbXBvbmVudHMvbGliL2RhdGF0YWJsZS9kYXRhdGFibGUuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQ0gsU0FBUyxFQUNULFNBQVMsRUFDVCxLQUFLLEVBQ0wsTUFBTSxFQUNOLGVBQWUsRUFDZixTQUFTLEVBQ1QsaUJBQWlCLEVBQ2pCLGFBQWEsRUFDYixnQkFBZ0IsRUFDaEIsTUFBTSxFQUNOLFlBQVksRUFDWixpQkFBaUIsRUFDakIsVUFBVSxHQUNiLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxLQUFLLElBQUksU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRW5ELE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQy9FLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBQ3hFLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBRzlELE9BQU8sRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDMUQsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBRTlDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QXlDLGNBRXpDLGFBQWEsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJOzs7Ozt5VUFDeEMsQ0FBQyxRQUNXLGtCQUFrQixDQTR0QjlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQ0Q7QUFBQyxJQURELHlCQUFDO0FBQ0EsQ0FEQSxBQTV0QkQsSUE0dEJDO0FBQ0QsU0E3dEJhLGtCQUFrQjtBQUFJIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgVmlld0NoaWxkLFxuICAgIElucHV0LFxuICAgIE91dHB1dCxcbiAgICBDb250ZW50Q2hpbGRyZW4sXG4gICAgUXVlcnlMaXN0LFxuICAgIENoYW5nZURldGVjdG9yUmVmLFxuICAgIEFmdGVyVmlld0luaXQsXG4gICAgQWZ0ZXJDb250ZW50SW5pdCxcbiAgICBPbkluaXQsXG4gICAgRXZlbnRFbWl0dGVyLFxuICAgIFZpZXdFbmNhcHN1bGF0aW9uLFxuICAgIEVsZW1lbnRSZWYsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVGFibGUgYXMgRGF0YVRhYmxlIH0gZnJvbSAncHJpbWVuZy90YWJsZSc7XG5pbXBvcnQgeyBEYXRhUHJvdmlkZXIgfSBmcm9tICcuL2RhdGFwcm92aWRlcic7XG5pbXBvcnQgeyBEYXRhUHJvdmlkZXJGYWN0b3J5LCBEYXRhUHJvdmlkZXJUeXBlIH0gZnJvbSAnLi9kYXRhcHJvdmlkZXItZmFjdG9yeSc7XG5pbXBvcnQgeyBEYXRhdGFibGVCdXR0b25Db21wb25lbnQgfSBmcm9tICcuL2RhdGF0YWJsZS1idXR0b24uY29tcG9uZW50JztcbmltcG9ydCB7IERhdGF0YWJsZUNsaWNrRXZlbnQgfSBmcm9tICcuL2RhdGF0YWJsZS1jbGljay1ldmVudCc7XG5pbXBvcnQgeyBEYXRhdGFibGVQYWdpbmF0aW9uUGFyYW1ldGVycyB9IGZyb20gJy4vZGF0YXRhYmxlLXBhZ2luYXRpb24tcGFyYW1ldGVycyc7XG5pbXBvcnQgeyBIdHRwRXJyb3JSZXNwb25zZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IEF1dGhvcml6YXRpb24sIFVzZXIgfSBmcm9tICdAbnV2ZW0vYW5ndWxhci1iYXNlJztcbmltcG9ydCB7IENvbHVtbiB9IGZyb20gJy4vcC1jb2x1bW4uZGlyZWN0aXZlJztcblxuLyoqXG4gKiBDbGFzcyBEYXRhdGFibGVDb21wb25lbnRcbiAqIEBjbGFzc1xuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2Jhc2lzLWRhdGF0YWJsZScsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2RhdGF0YWJsZS5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vZGF0YXRhYmxlLmNvbXBvbmVudC5jc3MnXSxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIERhdGF0YWJsZUNvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQsIEFmdGVyQ29udGVudEluaXQsIE9uSW5pdCB7XG5cbiAgICAvKipcbiAgICAgKiBzZWxlY3RlZFJvdyBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHthbnl9XG4gICAgICovXG4gICAgc2VsZWN0ZWRSb3c6IGFueTtcblxuICAgIC8qKlxuICAgICAqIGRhdGFQcm92aWRlciBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtEYXRhUHJvdmlkZXJ9XG4gICAgICovXG4gICAgZGF0YVByb3ZpZGVyOiBEYXRhUHJvdmlkZXI7XG5cbiAgICAvKipcbiAgICAgKiBmaWx0ZXJQYXJhbXMgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7YW55fVxuICAgICAqL1xuICAgIGZpbHRlclBhcmFtczogYW55ID0ge307XG5cbiAgICAvKipcbiAgICAgKiBmb290ZXJNc2cgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGZvb3Rlck1zZzogc3RyaW5nID0gJyc7XG5cbiAgICAvKipcbiAgICAgKiBvcmRlckluU29ydCBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIG9yZGVySW5Tb3J0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBzcGxpdEJ1dHRvbiBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHthbnl9XG4gICAgICovXG4gICAgQElucHV0KCkgc3BsaXRCdXR0b246IGFueTtcblxuICAgIC8qKlxuICAgICAqIHZhbHVlIHByb3BlcnR5XG4gICAgICogQHR5cGUge2FueX1cbiAgICAgKi9cbiAgICBASW5wdXQoKSB2YWx1ZTogYW55W10gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIHR5cGUgcHJvcGVydHlcbiAgICAgKiBAdHlwZSBEYXRhUHJvdmlkZXJUeXBlXG4gICAgICovXG4gICAgQElucHV0KCkgdHlwZTogRGF0YVByb3ZpZGVyVHlwZSA9IERhdGFQcm92aWRlclR5cGUuU2VydmVyO1xuXG4gICAgLyoqXG4gICAgICogcm93cyBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgQElucHV0KCkgcm93czogbnVtYmVyID0gNTtcblxuICAgIC8qKlxuICAgICAqIHJvd3NQZXJQYWdlT3B0aW9ucyBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtudW1iZXJbXX1cbiAgICAgKi9cbiAgICBASW5wdXQoKSByb3dzUGVyUGFnZU9wdGlvbnM6IG51bWJlcltdO1xuXG4gICAgLyoqXG4gICAgICogdXJsIHByb3BlcnR5XG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBASW5wdXQoKSB1cmw6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIGV4dHJhUGFyYW1zIHByb3BlcnR5XG4gICAgICogQHR5cGUge2FueX1cbiAgICAgKi9cbiAgICBASW5wdXQoKSBleHRyYVBhcmFtczogYW55O1xuXG4gICAgLyoqXG4gICAgICogcGFnaW5hdGlvblBhcmFtZXRlcnMgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7RGF0YXRhYmxlUGFnaW5hdGlvblBhcmFtZXRlcnN9XG4gICAgICovXG4gICAgQElucHV0KCkgcGFnaW5hdGlvblBhcmFtZXRlcnM6IERhdGF0YWJsZVBhZ2luYXRpb25QYXJhbWV0ZXJzO1xuXG4gICAgLyoqXG4gICAgICogc2hvd1BhZ2luYXRpb25Gb290ZXIgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBASW5wdXQoKSBzaG93UGFnaW5hdGlvbkZvb3RlciA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogZGlzYWJsZUVkaXQgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBASW5wdXQoKSBkaXNhYmxlRWRpdCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogZGlzYWJsZVZpZXcgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBASW5wdXQoKSBkaXNhYmxlVmlldyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogZGlzYWJsZURlbGV0ZSBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIEBJbnB1dCgpIGRpc2FibGVEZWxldGUgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIHNlbGVjdGlvbk1vZGUgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIEBJbnB1dCgpIHNlbGVjdGlvbk1vZGUgPSAnc2luZ2xlJztcblxuICAgIC8qKlxuICAgICAqIGVuYWJsZUJ1dHRvbnNTY3JvbGwgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBASW5wdXQoKSBlbmFibGVCdXR0b25zU2Nyb2xsID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBlbXB0eU1lc3NhZ2UgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIEBJbnB1dCgpIGVtcHR5TWVzc2FnZSA9ICdOZW5odW0gcmVnaXN0cm8gZW5jb250cmFkby4nO1xuXG4gICAgLyoqXG4gICAgICogdmVydGljYWxCdXR0b25zIHByb3BlcnR5XG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgQElucHV0KCkgdmVydGljYWxCdXR0b25zID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIGVuYWJsZVNjcm9sbCBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIEBJbnB1dCgpIGVuYWJsZVNjcm9sbCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogc2Nyb2xsSGVpZ2h0IHByb3BlcnR5XG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBASW5wdXQoKSBzY3JvbGxIZWlnaHQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIHNjcm9sbFdpZHRoIHByb3BlcnR5XG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBASW5wdXQoKSBzY3JvbGxXaWR0aDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogcnVsZXNUb0hpZGUgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7YW55fVxuICAgICAqL1xuICAgIEBJbnB1dCgpIHJ1bGVzVG9IaWRlOiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBydWxlc1RvU2hvd0VkaXQgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7YW55fVxuICAgICAqL1xuICAgIEBJbnB1dCgpIHJ1bGVzVG9TaG93RWRpdDogYW55O1xuXG4gICAgLyoqXG4gICAgICogcnVsZXNUb1Nob3dEZWxldGUgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7YW55fVxuICAgICAqL1xuICAgIEBJbnB1dCgpIHJ1bGVzVG9TaG93RGVsZXRlOiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBydWxlc1RvSGlkZVZpZXcgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7YW55fVxuICAgICAqL1xuICAgIEBJbnB1dCgpIHJ1bGVzVG9IaWRlVmlldzogYW55O1xuXG4gICAgLyoqXG4gICAgICogcnVsZXNUb0hpZGVFZGl0IHByb3BlcnR5XG4gICAgICogQHR5cGUge2FueX1cbiAgICAgKi9cbiAgICBASW5wdXQoKSBydWxlc1RvSGlkZUVkaXQ6IGFueTtcblxuICAgIC8qKlxuICAgICAqIHJ1bGVzVG9IaWRlRGVsZXRlIHByb3BlcnR5XG4gICAgICogQHR5cGUge2FueX1cbiAgICAgKi9cbiAgICBASW5wdXQoKSBydWxlc1RvSGlkZURlbGV0ZTogYW55O1xuXG4gICAgLyoqXG4gICAgICogaG9yaXpvbnRhbEJ1dHRvbnNIZWFkZXIgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGhvcml6b250YWxCdXR0b25zSGVhZGVyOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBkaXNhYmxlTG9hZGluZ0Jsb2NrVUkgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBASW5wdXQoKSBkaXNhYmxlTG9hZGluZ0Jsb2NrVUkgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIHJvd1N0eWxlQ2xhc3MgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7YW55fVxuICAgICAqL1xuICAgIEBJbnB1dCgpIHJvd1N0eWxlQ2xhc3M6IGFueTtcblxuICAgIC8qKlxuICAgICAqIGZpbHRlck9uQ29sdW1uIHByb3BlcnR5XG4gICAgICovXG4gICAgQElucHV0KCkgZmlsdGVyT25Db2x1bW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIGZpbHRlclNlbGVjdE9wdGlvbnMgcHJvcGVydHlcbiAgICAgKi9cbiAgICBmaWx0ZXJTZWxlY3RPcHRpb25zOiBhbnlbXSA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogdXBkYXRlRmlsdHJvSGlzdG9yaWNvIHByb3BlcnR5XG4gICAgICovXG4gICAgdXBkYXRlRmlsdGVyQ29sdW1uOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBjdXN0b21GaWx0ZXJPcHRpb25zIHByb3BlcnR5XG4gICAgICovXG4gICAgQElucHV0KCkgY3VzdG9tRmlsdGVyT3B0aW9uczogT2JqZWN0ID0ge31cblxuICAgIC8qKlxuICAgICAqIGJ1dHRvbkNsaWNrIHByb3BlcnR5XG4gICAgICogQHR5cGUge0V2ZW50RW1pdHRlcjxhbnk+fVxuICAgICAqL1xuICAgIEBPdXRwdXQoKSBidXR0b25DbGljazogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICAgIC8qKlxuICAgICAqIHBEYXRhdGFibGVDb21wb25lbnQgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7VGFibGV9XG4gICAgICovXG4gICAgQFZpZXdDaGlsZChEYXRhVGFibGUsIHsgc3RhdGljOiB0cnVlIH0pIHBEYXRhdGFibGVDb21wb25lbnQ6IERhdGFUYWJsZTtcblxuICAgIC8qKlxuICAgICAqIGV4dHJhQnV0dG9ucyBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtRdWVyeUxpc3Q8RGF0YXRhYmxlQnV0dG9uQ29tcG9uZW50Pn1cbiAgICAgKi9cbiAgICBAQ29udGVudENoaWxkcmVuKERhdGF0YWJsZUJ1dHRvbkNvbXBvbmVudCkgZXh0cmFCdXR0b25zOiBRdWVyeUxpc3Q8RGF0YXRhYmxlQnV0dG9uQ29tcG9uZW50PjtcblxuICAgIC8qKlxuICAgICAqIGNvbHVtbnMgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7YW55W119XG4gICAgICovXG4gICAgQENvbnRlbnRDaGlsZHJlbihDb2x1bW4pIGNvbHVtbnM6IENvbHVtbltdO1xuXG4gICAgLyoqXG4gICAgICogc3RhcnRlZExvYWRpbmcgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7RXZlbnRFbWl0dGVyPHZvaWQ+fVxuICAgICAqL1xuICAgIEBPdXRwdXQoKSBzdGFydGVkTG9hZGluZzogRXZlbnRFbWl0dGVyPHZvaWQ+ID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuXG4gICAgLyoqXG4gICAgICogZmluaXNoZWRMb2FkaW5nIHByb3BlcnR5XG4gICAgICogQHR5cGUge0V2ZW50RW1pdHRlcjxIdHRwRXJyb3JSZXNwb25zZT59XG4gICAgICovXG4gICAgQE91dHB1dCgpIGZpbmlzaGVkTG9hZGluZzogRXZlbnRFbWl0dGVyPEh0dHBFcnJvclJlc3BvbnNlPiA9IG5ldyBFdmVudEVtaXR0ZXI8SHR0cEVycm9yUmVzcG9uc2U+KCk7XG5cbiAgICAvKipcbiAgICAgKiBvblJvd1NlbGVjdGVkIHByb3BlcnR5XG4gICAgICogQHR5cGUge0V2ZW50RW1pdHRlcjxhbnk+fVxuICAgICAqL1xuICAgIEBPdXRwdXQoKSBvblJvd1NlbGVjdGVkOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gICAgLyoqXG4gICAgICogc2hvd0hvcml6b250YWxCdXR0b25zSGVhZGVyIHByb3BlcnR5XG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgc2hvd0hvcml6b250YWxCdXR0b25zSGVhZGVyID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBibG9ja0NvbnRlbnRcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBibG9ja0NvbnRlbnQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIHZpc2libGVDb2x1bW5zIHByb3BlcnR5XG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB2aXNpYmxlQ29sdW1uczogT2JqZWN0ID0ge307XG5cbiAgICAvKipcbiAgICAgKiBzaG93VmlzaWJsZUNvbHVtbnNDb250cm9sIHByb3BlcnR5XG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgQElucHV0KCkgc2hvd1Zpc2libGVDb2x1bW5zQ29udHJvbDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogZWRpdE1vZGUgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIEBJbnB1dCgpIGVkaXRNb2RlOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBkYXRhS2V5IHByb3BlcnR5XG4gICAgICogSWRlbnRpZmljYWRvciDDum5pY28gcGFyYSBjYWRhIHJlZ2lzdHJvIGRhIHRhYmVsYVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgQElucHV0KCkgZGF0YUtleTogc3RyaW5nID0gJ2lkJztcblxuICAgIC8qKlxuICAgICAqIG9uUm93RWRpdEV2ZW50IHByb3BlcnR5XG4gICAgICogRXZlbnRvIGRpc3BhcmFkbyBxdWFuZG8gbyB1c3XDoXJpbyByZWFsaXphIGHDp8O1ZXMgZGUgZWRpw6fDo28gZW0gdW1hIGxpbmhhIGRhIHRhYmVsYVxuICAgICAqIEB0eXBlIHtFdmVudEVtaXR0ZXI8dm9pZD59XG4gICAgICovXG4gICAgQE91dHB1dCgpIG9uUm93RWRpdEV2ZW50OiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gICAgY2xvbmVkUm93RGF0YTogeyBbczogc3RyaW5nXTogYW55OyB9ID0ge307XG5cbiAgICAvKipcbiAgICAgKiBlcnJvck1lc3NhZ2UgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHByaXZhdGUgZXJyb3JNZXNzYWdlID0gJ09jb3JyZXUgdW0gZXJybyBhbyBjYXJyZWdhciBvcyBkYWRvcyBkYSB0YWJlbGEuIFRlbnRlIG5vdmFtZW50ZS4nO1xuXG4gICAgLyoqXG4gICAgICogb3JpZ2luYWxFbXB0eU1lc3NhZ2UgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHByaXZhdGUgb3JpZ2luYWxFbXB0eU1lc3NhZ2U6IHN0cmluZztcblxuICAgIGVkaXRpbmdSb3cgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIGNvbnN0cnVjdG9yIG1ldGhvZFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7Q2hhbmdlRGV0ZWN0b3JSZWZ9IGNoYW5nZURldGVjdG9yUmVmXG4gICAgICogQHBhcmFtIHtEYXRhUHJvdmlkZXJGYWN0b3J5fSBkYXRhUHJvdmlkZXJGYWN0b3J5XG4gICAgICogQHBhcmFtIHtBdXRob3JpemF0aW9ufSBhdXRob3JpemF0aW9uU2VydmljZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGNoYW5nZURldGVjdG9yUmVmOiBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICAgICAgcHJpdmF0ZSBkYXRhUHJvdmlkZXJGYWN0b3J5OiBEYXRhUHJvdmlkZXJGYWN0b3J5LFxuICAgICAgICBwcml2YXRlIGF1dGhvcml6YXRpb25TZXJ2aWNlOiBBdXRob3JpemF0aW9uXG4gICAgKSB7IH1cblxuICAgIC8qKlxuICAgICAqIG5nT25Jbml0IG1ldGhvZFxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5kYXRhUHJvdmlkZXIgPSB0aGlzLmRhdGFQcm92aWRlckZhY3RvcnkuY3JlYXRlKHRoaXMudHlwZSwgdGhpcyk7XG4gICAgICAgIHRoaXMucERhdGF0YWJsZUNvbXBvbmVudC5yb3dzID0gdGhpcy5yb3dzO1xuICAgICAgICB0aGlzLnN1YnNjcmliZVRvTG9hZGluZ0V2ZW50cygpO1xuICAgICAgICB0aGlzLmluaXRSb3dzUGVyUGFnZU9wdGlvbnNJZlByZXNlbnQoKTtcbiAgICAgICAgdGhpcy5kZWZpbmVJZlNob3VsZFNob3dIb3Jpem9udGFsQnV0dG9uc0hlYWRlcigpO1xuICAgICAgICB0aGlzLnVwZGF0ZU9uVmFsdWVDaGFuZ2UoKTtcblxuICAgICAgICB0aGlzLmZpbmlzaGVkTG9hZGluZy5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVPblZhbHVlQ2hhbmdlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHN1YnNjcmliZUZyb21WYWx1ZUNoYW5nZSBtZXRob2RcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgcHJpdmF0ZSB1cGRhdGVPblZhbHVlQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLmZpbHRlclNlbGVjdE9wdGlvbnMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUubWFwKChpdGVtOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlclNlbGVjdE9wdGlvbnMucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc3Vic2NyaWJlVG9Mb2FkaW5nRXZlbnRzIG1ldGhvZFxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBwcml2YXRlIHN1YnNjcmliZVRvTG9hZGluZ0V2ZW50cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRpc2FibGVMb2FkaW5nQmxvY2tVSSkge1xuICAgICAgICAgICAgdGhpcy5vcmlnaW5hbEVtcHR5TWVzc2FnZSA9IHRoaXMuZW1wdHlNZXNzYWdlO1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkTG9hZGluZy5zdWJzY3JpYmUoKCkgPT4gdGhpcy5vblN0YXJ0ZWRMb2FkaW5nKCkpO1xuICAgICAgICAgICAgdGhpcy5maW5pc2hlZExvYWRpbmcuc3Vic2NyaWJlKGVycm9yID0+IHRoaXMub25GaW5pc2hlZExvYWRpbmcoZXJyb3IpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG9uU3RhcnRlZExvYWRpbmcgbWV0aG9kXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIHByaXZhdGUgb25TdGFydGVkTG9hZGluZygpIHtcbiAgICAgICAgdGhpcy5ibG9ja0NvbnRlbnQgPSB0cnVlO1xuICAgICAgICB0aGlzLmVtcHR5TWVzc2FnZSA9IHRoaXMub3JpZ2luYWxFbXB0eU1lc3NhZ2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIG9uRmluaXNoZWRMb2FkaW5nIG1ldGhvZFxuICAgICAqIEBwYXJhbSB7SHR0cEVycm9yUmVzcG9uc2V9IGVycm9yXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIHByaXZhdGUgb25GaW5pc2hlZExvYWRpbmcoZXJyb3I6IEh0dHBFcnJvclJlc3BvbnNlKSB7XG4gICAgICAgIHRoaXMuYmxvY2tDb250ZW50ID0gZmFsc2U7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5lbXB0eU1lc3NhZ2UgPSB0aGlzLmVycm9yTWVzc2FnZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGluaXRSb3dzUGVyUGFnZU9wdGlvbnNJZlByZXNlbnQgbWV0aG9kXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIHByaXZhdGUgaW5pdFJvd3NQZXJQYWdlT3B0aW9uc0lmUHJlc2VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMucm93c1BlclBhZ2VPcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLnBEYXRhdGFibGVDb21wb25lbnQucm93c1BlclBhZ2VPcHRpb25zID0gdGhpcy5yb3dzUGVyUGFnZU9wdGlvbnM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkZWZpbmVJZlNob3VsZFNob3dIb3Jpem9udGFsQnV0dG9uc0hlYWRlciBtZXRob2RcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgcHJpdmF0ZSBkZWZpbmVJZlNob3VsZFNob3dIb3Jpem9udGFsQnV0dG9uc0hlYWRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbEJ1dHRvbnNIZWFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0hvcml6b250YWxCdXR0b25zSGVhZGVyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG5nQWZ0ZXJWaWV3SW5pdCBtZXRob2RcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgICAgICB0aGlzLnNldEV4dHJhUGFyYW1zKCk7XG4gICAgICAgIHRoaXMucERhdGF0YWJsZUNvbXBvbmVudC5jb2x1bW5zID0gdGhpcy5jb2x1bW5zO1xuICAgICAgICB0aGlzLnBEYXRhdGFibGVDb21wb25lbnQubmdBZnRlckNvbnRlbnRJbml0KCk7XG4gICAgICAgIHRoaXMuc2V0QWxsQ29sdW1uc1Zpc2libGUoKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc2V0RXh0cmFQYXJhbXMgbWV0aG9kXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIHByaXZhdGUgc2V0RXh0cmFQYXJhbXMoKSB7XG4gICAgICAgIGZvciAobGV0IGkgaW4gdGhpcy5leHRyYVBhcmFtcykge1xuICAgICAgICAgICAgdGhpcy5wRGF0YXRhYmxlQ29tcG9uZW50W2ldID0gdGhpcy5leHRyYVBhcmFtc1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBuZ0FmdGVyQ29udGVudEluaXQgbWV0aG9kXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcbiAgICAgICAgdGhpcy5leHRyYUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICBidXR0b24uY2xpY2suc3Vic2NyaWJlKGV2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ2xpY2soYnV0dG9uLm5hbWUsIGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBvbkNsaWNrIG1ldGhvZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBidXR0b25cbiAgICAgKiBAcGFyYW0ge2FueX0gZXZlbnRcbiAgICAgKiBAcmV0dXJuIHZvaWRcbiAgICAgKi9cbiAgICBvbkNsaWNrKGJ1dHRvbjogc3RyaW5nLCBldmVudDogYW55KSB7XG4gICAgICAgIHRoaXMuYnV0dG9uQ2xpY2suZW1pdChuZXcgRGF0YXRhYmxlQ2xpY2tFdmVudChidXR0b24sIHRoaXMuc2VsZWN0ZWRSb3cpKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMucmVzZXRTZWxlY3RlZFJvdyhidXR0b24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG9uU2VsZWN0Q2hhbmdlIG1ldGhvZFxuICAgICAqIEBwYXJhbSB7YW55fSBldmVudFxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBvblNlbGVjdENoYW5nZShldmVudDogYW55KSB7XG4gICAgICAgIHRoaXMub25Sb3dTZWxlY3RlZC5lbWl0KHRoaXMuc2VsZWN0ZWRSb3cpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnNlbGVjdGVkUm93KSAmJiB0aGlzLnNlbGVjdGVkUm93Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTXVsdGlwbGVCdXR0b25zU3RhdHVzKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVNdWx0aXBsZUJ1dHRvbnNTdGF0dXMoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdXBkYXRlTXVsdGlwbGVCdXR0b25zU3RhdHVzIG1ldGhvZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGFzTXVsdGlwbGVTZWxlY3Rpb25cbiAgICAgKiBAcmV0dXJuIHZvaWRcbiAgICAgKi9cbiAgICBwcml2YXRlIHVwZGF0ZU11bHRpcGxlQnV0dG9uc1N0YXR1cyhoYXNNdWx0aXBsZVNlbGVjdGlvbjogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmV4dHJhQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgICAgIGlmIChoYXNNdWx0aXBsZVNlbGVjdGlvbiAmJiAhYnV0dG9uLmFsbG93TXVsdGlwbGVTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBidXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVmcmVzaCBtZXRob2RcbiAgICAgKiBAcGFyYW0gcXVlcnlcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgcmVmcmVzaChxdWVyeT86IGFueSkge1xuICAgICAgICB0aGlzLmRhdGFQcm92aWRlci5sb2FkKHF1ZXJ5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXNldFNlbGVjdGVkUm93IG1ldGhvZFxuICAgICAqIEBwYXJhbSBidXR0b25cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgcmVzZXRTZWxlY3RlZFJvdyhidXR0b246IHN0cmluZykge1xuICAgICAgICBpZiAoYnV0dG9uID09PSAnZGVsZXRlJykge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvdyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXNldCBtZXRob2RcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMucERhdGF0YWJsZUNvbXBvbmVudC5maXJzdCA9IDA7XG4gICAgICAgIHRoaXMuZGF0YVByb3ZpZGVyLnJlc2V0KCk7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHBhZ2luYXRpb25Gb290ZXJUZXh0IG1ldGhvZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtc2dcbiAgICAgKiBAcmV0dXJucyBzdHJpbmdcbiAgICAgKi9cbiAgICBwYWdpbmF0aW9uRm9vdGVyVGV4dChtc2c6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHJlZ2lzdHJvcyA9IHRoaXMudG90YWxSZWNvcmRzKCkgPT09IDEgPyAncmVnaXN0cm8nIDogJ3JlZ2lzdHJvcyc7XG4gICAgICAgIGlmIChtc2cgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gYEV4aWJpbmRvOiAke3RoaXMuY3VycmVudEZpcnN0SW5kZXgoKX0gYSAke3RoaXMuY3VycmVudExhc3RJbmRleCgpfSBkZSAke3RoaXMudG90YWxSZWNvcmRzKCl9ICR7cmVnaXN0cm9zfWA7XG4gICAgICAgIH1cbiAgICAgICAgbXNnID0gbXNnLnJlcGxhY2UoJ3t0b3RhbFJlY29yZHN9JywgdGhpcy50b3RhbFJlY29yZHMoKS50b1N0cmluZygpKTtcbiAgICAgICAgbXNnID0gbXNnLnJlcGxhY2UoJ3tjdXJyZW50Rmlyc3RJbmRleH0nLCB0aGlzLmN1cnJlbnRGaXJzdEluZGV4KCkudG9TdHJpbmcoKSk7XG4gICAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKCd7Y3VycmVudExhc3RJbmRleH0nLCB0aGlzLmN1cnJlbnRMYXN0SW5kZXgoKS50b1N0cmluZygpKTtcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjdXJyZW50Rmlyc3RJbmRleCBtZXRob2RcbiAgICAgKiBAcmV0dXJucyBudW1iZXJcbiAgICAgKi9cbiAgICBjdXJyZW50Rmlyc3RJbmRleCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5wRGF0YXRhYmxlQ29tcG9uZW50LmZpcnN0ICsgMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjdXJyZW50TGFzdEluZGV4IG1ldGhvZFxuICAgICAqIEByZXR1cm5zIG51bWJlclxuICAgICAqL1xuICAgIGN1cnJlbnRMYXN0SW5kZXgoKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgY3VycmVudExhc3RJbmRleDogbnVtYmVyID0gdGhpcy5wRGF0YXRhYmxlQ29tcG9uZW50LmZpcnN0ICsgdGhpcy5wRGF0YXRhYmxlQ29tcG9uZW50LnJvd3M7XG4gICAgICAgIGlmIChjdXJyZW50TGFzdEluZGV4ID4gdGhpcy50b3RhbFJlY29yZHMoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG90YWxSZWNvcmRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRMYXN0SW5kZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdG90YWxSZWNvcmRzIG1ldGhvZFxuICAgICAqIEByZXR1cm5zIG51bWJlclxuICAgICAqL1xuICAgIHRvdGFsUmVjb3JkcygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5wRGF0YXRhYmxlQ29tcG9uZW50LnRvdGFsUmVjb3JkcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjaGVja1JvbGVzVG9CdXR0b24gbWV0aG9kXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJ1dHRvblxuICAgICAqIEByZXR1cm4gYm9vbGVhblxuICAgICAqL1xuICAgIGNoZWNrUm9sZXNUb0J1dHRvbihidXR0b246IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpc1tidXR0b25dKSB7XG4gICAgICAgICAgICBpZiAoYnV0dG9uID09PSAncnVsZXNUb0hpZGUnIHx8IGJ1dHRvbiA9PT0gJ3J1bGVzVG9TaG93RWRpdCcgfHwgYnV0dG9uID09PSAncnVsZXNUb1Nob3dEZWxldGUnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja1VzZUJ1dHRvbnMoYnV0dG9uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRob3JpemF0aW9uU2VydmljZS5oYXNSb2xlKHRoaXNbYnV0dG9uXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gIXRoaXMuYXV0aG9yaXphdGlvblNlcnZpY2UuaGFzUm9sZSh0aGlzW2J1dHRvbl0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNoZWNrVXNlQnV0dG9ucyBtZXRob2RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYnV0dG9uXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIGNoZWNrVXNlQnV0dG9ucyhidXR0b246IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpc1tidXR0b25dICYmIHRoaXNbYnV0dG9uLnJlcGxhY2UoJ1Nob3cnLCAnSGlkZScpXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOw6NvIMOpIHBvc3PDrXZlbCBkZWZpbmlyIGRvaXMgdmFsb3JlcyBkZSByb2xlcyBwYXJhIG9zIGJvdMO1ZXMgcGFkcsO1ZXMuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBmaWx0ZXIgbWV0aG9kXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIGZpbHRlcigpIHtcbiAgICAgICAgZm9yIChsZXQgcHJvcCBpbiB0aGlzLmZpbHRlclBhcmFtcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlsdGVyUGFyYW1zW3Byb3BdID09PSAnJyB8fCAodGhpcy5maWx0ZXJQYXJhbXNbcHJvcF0ubGVuZ3RoID09PSAwKSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmZpbHRlclBhcmFtc1twcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5maWx0ZXJQYXJhbXMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKHRoaXMuZmlsdGVyUGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE3DqXRvZG8gcGFyYSBmaWx0cmFyIHBvciBjb2x1bmFzXG4gICAgICogQHBhcmFtIGNvbHVtbiBjaGF2ZSBkYSBjb2x1bmEgbmEgdGFiZWxhXG4gICAgICogQHBhcmFtIGZpbHRlcnMgdmFsb3IgZG8gZmlsdHJvXG4gICAgICovXG4gICAgZmlsdGVyQ29sdW1uKGNvbHVtbjogc3RyaW5nLCBmaWx0ZXJzOiBhbnkpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgICAgIGlmIChmaWx0ZXJzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIHZhbHVlc1tjb2x1bW5dID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpdGVtIGluIGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsID0gKGZpbHRlcnNbaXRlbV0gaW5zdGFuY2VvZiBPYmplY3QpPyBmaWx0ZXJzW2l0ZW1dLnZhbHVlIDogZmlsdGVyc1tpdGVtXTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbY29sdW1uXS5wdXNoKHZhbClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlc1tjb2x1bW5dID0gZmlsdGVycztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpbHRlclBhcmFtcyA9IHsgLi4udGhpcy5maWx0ZXJQYXJhbXMsIC4uLnZhbHVlcyB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pY2lhIHRvZGFzIGFzIGNvbHVuYXMgZGEgdGFiZWxhIGNvbW8gdmlzw612ZWlzXG4gICAgICovXG4gICAgc2V0QWxsQ29sdW1uc1Zpc2libGUoKSB7XG4gICAgICAgIHRoaXMuY29sdW1ucy5mb3JFYWNoKChjb2wpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZUNvbHVtbnNbY29sLmZpZWxkXSA9ICd0YWJsZS1jZWxsJztcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmVyaWZpY2Egc2UgdW1hIGNvbHVuYSBkZXZlIGVzdGFyIHZpc8OtdmVsXG4gICAgICogQHBhcmFtIGNvbHVtbiBzdHJpbmdcbiAgICAgKiBAcGFyYW0gdmlzaWJsZUNvbHVtbnMgQXJyYXlcbiAgICAgKi9cbiAgICB2aXNpYmxlQ29sdW1uQ2hlY2soY29sdW1uOiBzdHJpbmcsIHZpc2libGVDb2x1bW5zOiBbXSkge1xuICAgICAgICByZXR1cm4gdmlzaWJsZUNvbHVtbnMuc29tZSgoaXRlbTogYW55KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKGl0ZW0uZmllbGQpID8gaXRlbS5maWVsZCA9PSBjb2x1bW4gOiB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdHVhbHppYSBvcyB2YWxvcmVzIGRhIHZhcmnDoXZlbCAndmlzaWJsZUNvbHVucycgcGFyYSBtb3N0cmFyIG91IG7Do28gYXMgY29sdW5hc1xuICAgICAqIEBwYXJhbSBjb2x1bW5zIGFycmF5XG4gICAgICovXG4gICAgdXBkYXRlVmlzaWJsZUNvbHVtbnMoY29sdW1uczogW10pIHtcbiAgICAgICAgZm9yIChsZXQgY29sIGluIHRoaXMudmlzaWJsZUNvbHVtbnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpc2libGVDb2x1bW5DaGVjayhjb2wsIGNvbHVtbnMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlQ29sdW1uc1tjb2xdID0gJ3RhYmxlLWNlbGwnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGVDb2x1bW5zW2NvbF0gPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblJvd0VkaXRJbml0RXZlbnQoZXZlbnQsIHJvd0RhdGE6IGFueSkge1xuXG4gICAgICAgIGNvbnN0IHRyID0gZXZlbnQuc3JjRWxlbWVudC5jbG9zZXN0KCd0cicpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lZGl0aW5nUm93ID0gdHJ1ZTtcblxuICAgICAgICAgICAgY29uc3QgdG9wID0gdHIub2Zmc2V0VG9wO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gdHIub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgY29uc3QgZWRpdEJ1dHRvbnMgPSB0ci5xdWVyeVNlbGVjdG9yKCcuZWRpdGFyLWNhbXBvcycpO1xuXG4gICAgICAgICAgICBlZGl0QnV0dG9ucy5zdHlsZS50b3AgPSAodG9wICsgaGVpZ2h0IC0gNzUpICsgJ3B4JztcbiAgICAgICAgICAgIGVkaXRCdXR0b25zLnN0eWxlLmhlaWdodCA9Jzc1cHgnO1xuICAgICAgICAgICAgZWRpdEJ1dHRvbnMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNkMGQwZDAnO1xuICAgICAgICAgICAgZWRpdEJ1dHRvbnMuc3R5bGUub3BhY2l0eSA9IDE7XG5cbiAgICAgICAgICAgIHRoaXMuY2xvbmVkUm93RGF0YVtyb3dEYXRhLmlkXSA9IHsuLi5yb3dEYXRhfTtcbiAgICAgICAgICAgIHRoaXMub25Sb3dFZGl0RXZlbnQuZW1pdCh7ZXZlbnQ6IFwiaW5pdFwiLCBkYXRhOiByb3dEYXRhfSk7XG4gICAgICAgIH0sIG51bGwgLCB0cik7XG5cbiAgICB9XG5cbiAgICBvblJvd0VkaXRTYXZlRXZlbnQoZXZlbnQsIHJvd0RhdGE6IGFueSkge1xuICAgICAgICB0aGlzLm9uUm93RWRpdEV2ZW50LmVtaXQoe2V2ZW50OiBcInNhdmVcIiwgZGF0YTogcm93RGF0YX0pO1xuICAgICAgICB0aGlzLnJlc2V0RWRpdGluZ01vZGUoZXZlbnQpO1xuICAgIH1cblxuICAgIG9uUm93RWRpdENhbmNlbEV2ZW50KGV2ZW50LCByb3dEYXRhOiBhbnksIGluZGV4OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy52YWx1ZVtpbmRleF0gPSB0aGlzLmNsb25lZFJvd0RhdGFbcm93RGF0YS5pZF07XG5cbiAgICAgICAgZGVsZXRlIHRoaXMuY2xvbmVkUm93RGF0YVtyb3dEYXRhW3RoaXMuZGF0YUtleV1dO1xuICAgICAgICB0aGlzLm9uUm93RWRpdEV2ZW50LmVtaXQoe2V2ZW50OiBcImNhbmNlbFwiLCBkYXRhOiByb3dEYXRhfSk7XG5cbiAgICAgICAgdGhpcy5yZXNldEVkaXRpbmdNb2RlKGV2ZW50KTtcbiAgICB9XG5cbiAgICByZXNldEVkaXRpbmdNb2RlKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGVkaXRCdXR0b25zID0gZXZlbnQuc3JjRWxlbWVudC5jbG9zZXN0KCd0cicpLnF1ZXJ5U2VsZWN0b3IoJy5lZGl0YXItY2FtcG9zJyk7XG5cbiAgICAgICAgZWRpdEJ1dHRvbnMuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgIGVkaXRCdXR0b25zLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjMDAwMDAwNmInO1xuICAgICAgICBlZGl0QnV0dG9ucy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgIHRoaXMuZWRpdGluZ1JvdyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGVkaXRhckxpbmhhT3ZlcihldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuZWRpdGluZ1JvdyAmJiB0aGlzLmVkaXRNb2RlID09ICdyb3cnKSB7XG4gICAgICAgICAgICBjb25zdCB0b3AgPSBldmVudC5zcmNFbGVtZW50LmNsb3Nlc3QoJ3RyJykub2Zmc2V0VG9wO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gZXZlbnQuc3JjRWxlbWVudC5jbG9zZXN0KCd0cicpLm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgIGNvbnN0IGVkaXRCdXR0b25zID0gZXZlbnQuc3JjRWxlbWVudC5jbG9zZXN0KCd0cicpLnF1ZXJ5U2VsZWN0b3IoJy5lZGl0YXItY2FtcG9zJyk7XG5cbiAgICAgICAgICAgIGVkaXRCdXR0b25zLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgICAgICBlZGl0QnV0dG9ucy5zdHlsZS50b3AgPSB0b3AgKyAncHgnO1xuICAgICAgICAgICAgZWRpdEJ1dHRvbnMuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgICAgIGVkaXRCdXR0b25zLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjMDAwMDAwNmInO1xuICAgICAgICAgICAgZWRpdEJ1dHRvbnMuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlZGl0YXJMaW5oYU91dChldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuZWRpdGluZ1Jvdykge1xuICAgICAgICAgICAgY29uc3QgZWRpdEJ1dHRvbnMgPSBldmVudC5zcmNFbGVtZW50LmNsb3Nlc3QoJ3RyJykucXVlcnlTZWxlY3RvcignLmVkaXRhci1jYW1wb3MnKTtcbiAgICAgICAgICAgIGVkaXRCdXR0b25zLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICBlZGl0QnV0dG9ucy5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgfVxuICAgIH1cblxufVxuIl19