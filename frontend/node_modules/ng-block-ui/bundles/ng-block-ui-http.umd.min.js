!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common/http"),require("@angular/core"),require("rxjs/operators"),require("ng-block-ui")):"function"==typeof define&&define.amd?define("ng-block-ui/http",["exports","@angular/common/http","@angular/core","rxjs/operators","ng-block-ui"],e):e((t["ng-block-ui"]=t["ng-block-ui"]||{},t["ng-block-ui"].http={}),t.ng.common.http,t.ng.core,t.rxjs.operators,t["ng-block-ui"])}(this,function(t,o,r,e,s){"use strict";var n=function(){function t(){this.settings={}}return t.decorators=[{type:r.Injectable}],t}(),i=function(){function t(t,e){this.blockUIService=t,this.blockUIHttpSettings=e,this.activeHttpRequests=0}return t.prototype.intercept=function(r,t){var n=this,i=!1;return this.shouldBlock(r)&&(i=!0,this.activeHttpRequests++,this.blockUIService.start(s.BLOCKUI_DEFAULT)),t.handle(r).pipe(e.finalize(function(){if(n.shouldBlock(r)){n.activeHttpRequests--;var t=n.blockUIHttpSettings.settings.blockAllRequestsInProgress,e=!1;if(t&&n.activeHttpRequests<=0?e=!(n.activeHttpRequests=0):i&&(e=!0),e){var o=t?"stop":"reset";n.blockUIService[o](s.BLOCKUI_DEFAULT)}}}))},t.prototype.shouldBlock=function(e){var o=e.method,r=e.urlWithParams;return!(this.blockUIHttpSettings.settings.requestFilters||[]).some(function(t){return t&&t.method&&t.url?t.method.toUpperCase()===o&&t.url.test(r):"function"==typeof t?t(e):t.test(r)})},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:s.BlockUIService},{type:n}]},t}(),u=new r.InjectionToken("BlockUIHttpModuleSettings");function c(t){return{settings:t}}var l=function(){function e(){}return e.forRoot=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[{provide:u,useValue:t},{provide:n,useFactory:c,deps:[u]},{provide:o.HTTP_INTERCEPTORS,useClass:i,multi:!0}]}},e.decorators=[{type:r.NgModule,args:[{imports:[s.BlockUIModule]}]}],e}();t.BlockUIHttpModule=l,t.ɵc=n,t.ɵd=i,t.ɵa=u,t.ɵb=c,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng-block-ui-http.umd.min.js.map